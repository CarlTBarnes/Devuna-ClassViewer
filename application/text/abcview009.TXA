[MODULE]
[COMMON]
FROM ABC GENERATED
MODIFIED '2003/05/28' ' 0:12:45'
[EMBED]
EMBED %StartOfModule
[DEFINITION]
[SOURCE]
PROPERTY:BEGIN
PRIORITY 1300
PROPERTY:END
!region Notices
! ================================================================================
! Notice : Copyright (C) 2017, Devuna
!          Distributed under LGPLv3 (http://www.gnu.org/licenses/lgpl.html)
!
!    This file is part of Devuna-ClassViewer (https://github.com/Devuna/Devuna-ClassViewer)
!
!    Devuna-ClassViewer is free software: you can redistribute it and/or modify
!    it under the terms of the GNU General Public License as published by
!    the Free Software Foundation, either version 3 of the License, or
!    (at your option) any later version.
!
!    Devuna-ClassViewer is distributed in the hope that it will be useful,
!    but WITHOUT ANY WARRANTY; without even the implied warranty of
!    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
!    GNU General Public License for more details.
!
!    You should have received a copy of the GNU General Public License
!    along with Devuna-ClassViewer.  If not, see <http://www.gnu.org/licenses/>.
! ================================================================================
!endregion Notices
[END]
[END]
[PROCEDURE]
NAME winViewAsciiFile
PROTOTYPE '(STRING szFileName, STRING pWhat)'
PARAMETERS '(sFileName, pWhat)'
[COMMON]
DESCRIPTION 'View Ascii File'
FROM ABC Window
MODIFIED '2017/07/02' ' 9:14:51'
[DATA]
[SCREENCONTROLS]
! ENTRY(@s64),USE(sSearchString)
[REPORTCONTROLS]
! STRING(@s64),USE(sSearchString)
sSearchString            STRING(64)
!!> GUID('4865be4c-3b4b-49ed-a91c-27de87b76c74'),PICTURE(@s64)
[SCREENCONTROLS]
! ENTRY(@n-14),USE(lSearchLine)
[REPORTCONTROLS]
! STRING(@n-14),USE(lSearchLine)
lSearchLine              LONG
!!> GUID('f9f1e9c3-4600-4286-a659-f2557a08bb25'),PICTURE(@n-14)
[SCREENCONTROLS]
! ENTRY(@s4),USE(LineNoQueue)
[REPORTCONTROLS]
! STRING(@s4),USE(LineNoQueue)
LineNoQueue              QUEUE,PRE(LNQ)
!!> GUID('70770e92-247d-44ce-b143-f2e7140819bc'),PICTURE(@s4)
[SCREENCONTROLS]
! ENTRY(@n-14),USE(LNQ:LineNo)
[REPORTCONTROLS]
! STRING(@n-14),USE(LNQ:LineNo)
LineNo                     LONG
!!> GUID('dc4c1209-8bf8-48c7-8a43-1b680d2bd619'),PICTURE(@n-14)
                         END
!!> GUID('43334a96-15e0-4044-8ed1-66fa07898a58')
[SCREENCONTROLS]
! PROMPT('Files Opened:'),USE(?FilesOpened:Prompt)
! ENTRY(@n3),USE(FilesOpened)
[REPORTCONTROLS]
! STRING(@n3),USE(FilesOpened)
FilesOpened              BYTE
!!> GUID('216a773e-f6ef-4bb9-9cac-ff89cd50d21d'),PROMPT('Files Opened:'),HEADER('Files Opened'),PICTURE(@n3)
[SCREENCONTROLS]
! TEXT,USE(TextField),HVSCROLL
[REPORTCONTROLS]
! TEXT,USE(TextField)
TextField                CSTRING(4001)
!!> GUID('b155792a-77bb-4286-bd6f-97e52f044978'),PICTURE(@s255)
[SCREENCONTROLS]
! PROMPT('l Style:'),USE(?lStyle:Prompt)
! ENTRY(@n-14),USE(lStyle),RIGHT(1)
[REPORTCONTROLS]
! STRING(@n-14),USE(lStyle),RIGHT(1)
lStyle                   LONG
!!> GUID('8389a1e8-c2d4-427b-a15c-d611fdb08d01'),PROMPT('l Style:'),HEADER('l Style'),PICTURE(@n-14),JUSTIFY(RIGHT,1)
[PROMPTS]
%ClassItem UNIQUE DEFAULT  ('Default', 'WindowToolbar')
%DefaultBaseClassType DEPEND %ClassItem DEFAULT TIMES 2
WHEN  ('Default') ('WindowManager')
WHEN  ('WindowToolbar') ('ToolbarClass')

%ActualDefaultBaseClassType DEPEND %ClassItem DEFAULT TIMES 2
WHEN  ('Default') ('')
WHEN  ('WindowToolbar') ('')

%ClassLines DEPEND %ClassItem MULTI DEFAULT TIMES 1
WHEN  ('Default') ('Init {19}PROCEDURE(),BYTE,PROC,DERIVED', 'Kill {19}PROCEDURE(),BYTE,PROC,DERIVED', |
  'Open {19}PROCEDURE(),DERIVED', 'Reset {18}PROCEDURE(BYTE Force=0),DERIVED', 'TakeAccepted {11}PROCEDURE(),BYTE,PROC,DERIVED', |
  'TakeEvent {14}PROCEDURE(),BYTE,PROC,DERIVED', 'TakeFieldEvent {9}PROCEDURE(),BYTE,PROC,DERIVED', |
  'TakeWindowEvent        PROCEDURE(),BYTE,PROC,DERIVED')

%ReturnValue FIELD  ()
%WindowOperationMode DEFAULT  ('Use WINDOW setting')
%INISaveWindow LONG  (0)
%ThisObjectName DEPEND %ClassItem DEFAULT TIMES 2
WHEN  ('Default') ('ThisWindow')
WHEN  ('WindowToolbar') ('Toolbar')

%UseDefaultABCBaseClass DEPEND %ClassItem LONG TIMES 2
WHEN  ('Default') (1)
WHEN  ('WindowToolbar') (1)

%UseABCBaseClass DEPEND %ClassItem LONG TIMES 2
WHEN  ('Default') (1)
WHEN  ('WindowToolbar') (1)

%ABCBaseClass DEPEND %ClassItem DEFAULT TIMES 2
WHEN  ('Default') ('AsciiFileClass')
WHEN  ('WindowToolbar') ('AsciiFileClass')

%ExtBaseClass DEPEND %ClassItem DEFAULT TIMES 0

%BaseClassIncludeFile DEPEND %ClassItem DEFAULT TIMES 0

%DeriveFromBaseClass DEPEND %ClassItem LONG TIMES 2
WHEN  ('Default') (0)
WHEN  ('WindowToolbar') (0)

%NewMethods DEPEND %ClassItem MULTI LONG TIMES 1
WHEN  ('Default') ()

%NewMethodName DEPEND %NewMethods DEFAULT TIMES 0

%NewMethodPrototype DEPEND %NewMethods DEFAULT TIMES 0

%NewClassPropertyItems DEPEND %ClassItem MULTI LONG TIMES 0

%NewClassProperty DEPEND %NewClassPropertyItems DEFAULT TIMES 0

%NewClassDataType DEPEND %NewClassPropertyItems DEFAULT TIMES 1
WHEN  ('WindowToolbar')TIMES 0

%NewClassOtherType DEPEND %NewClassPropertyItems DEFAULT TIMES 0

%NewClassDataIsRef DEPEND %NewClassPropertyItems LONG TIMES 0

%NewClassDataSize DEPEND %NewClassPropertyItems DEFAULT TIMES 0

%NewClassDataDim1 DEPEND %NewClassPropertyItems DEFAULT TIMES 0

%NewClassDataDim2 DEPEND %NewClassPropertyItems DEFAULT TIMES 0

%NewClassDataDim3 DEPEND %NewClassPropertyItems DEFAULT TIMES 0

%NewClassDataDim4 DEPEND %NewClassPropertyItems DEFAULT TIMES 0

%ClassMethods DEPEND %ClassItem MULTI LONG TIMES 0

%ClassMethodName DEPEND %ClassMethods DEFAULT TIMES 0

%ClassMethodPrototype DEPEND %ClassMethods DEFAULT TIMES 0

%ClassPropertyItems DEPEND %ClassItem MULTI LONG TIMES 0

%ClassProperty DEPEND %ClassPropertyItems DEFAULT TIMES 0

%ClassDataType DEPEND %ClassPropertyItems DEFAULT TIMES 1
WHEN  ('WindowToolbar')TIMES 0

%ClassOtherType DEPEND %ClassPropertyItems DEFAULT TIMES 0

%ClassDataIsRef DEPEND %ClassPropertyItems LONG TIMES 0

%ClassDataSize DEPEND %ClassPropertyItems DEFAULT TIMES 0

%ClassDataDim1 DEPEND %ClassPropertyItems DEFAULT TIMES 0

%ClassDataDim2 DEPEND %ClassPropertyItems DEFAULT TIMES 0

%ClassDataDim3 DEPEND %ClassPropertyItems DEFAULT TIMES 0

%ClassDataDim4 DEPEND %ClassPropertyItems DEFAULT TIMES 0

%ButtonAction DEPEND %Control DEFAULT TIMES 14
WHEN  ('') ('No Special Action')
WHEN  ('?AsciiBox') ('No Special Action')
WHEN  ('?CloseButton') ('No Special Action')
WHEN  ('?EditButton') ('No Special Action')
WHEN  ('?FindButton') ('No Special Action')
WHEN  ('?GoToButton') ('No Special Action')
WHEN  ('?Image1') ('No Special Action')
WHEN  ('?ListTextModeButton') ('No Special Action')
WHEN  ('?MoveBottomButton') ('No Special Action')
WHEN  ('?MovePageDownButton') ('No Special Action')
WHEN  ('?MovePageUpButton') ('No Special Action')
WHEN  ('?MoveTopButton') ('No Special Action')
WHEN  ('?PrintButton') ('No Special Action')
WHEN  ('?TextField') ('No Special Action')

%ButtonRunName DEPEND %Control DEFAULT TIMES 10
WHEN  ('?CloseButton') ('')
WHEN  ('?EditButton') ('')
WHEN  ('?FindButton') ('')
WHEN  ('?GoToButton') ('')
WHEN  ('?ListTextModeButton') ('')
WHEN  ('?MoveBottomButton') ('')
WHEN  ('?MovePageDownButton') ('')
WHEN  ('?MovePageUpButton') ('')
WHEN  ('?MoveTopButton') ('')
WHEN  ('?PrintButton') ('')

%ButtonRunParameters DEPEND %Control DEFAULT TIMES 10
WHEN  ('?CloseButton') ('')
WHEN  ('?EditButton') ('')
WHEN  ('?FindButton') ('')
WHEN  ('?GoToButton') ('')
WHEN  ('?ListTextModeButton') ('')
WHEN  ('?MoveBottomButton') ('')
WHEN  ('?MovePageDownButton') ('')
WHEN  ('?MovePageUpButton') ('')
WHEN  ('?MoveTopButton') ('')
WHEN  ('?PrintButton') ('')

%ButtonProcedure DEPEND %Control PROCEDURE TIMES 10
WHEN  ('?CloseButton') ()
WHEN  ('?EditButton') ()
WHEN  ('?FindButton') ()
WHEN  ('?GoToButton') ()
WHEN  ('?ListTextModeButton') ()
WHEN  ('?MoveBottomButton') ()
WHEN  ('?MovePageDownButton') ()
WHEN  ('?MovePageUpButton') ()
WHEN  ('?MoveTopButton') ()
WHEN  ('?PrintButton') ()

%ButtonThread DEPEND %Control LONG TIMES 10
WHEN  ('?CloseButton') (0)
WHEN  ('?EditButton') (0)
WHEN  ('?FindButton') (0)
WHEN  ('?GoToButton') (0)
WHEN  ('?ListTextModeButton') (0)
WHEN  ('?MoveBottomButton') (0)
WHEN  ('?MovePageDownButton') (0)
WHEN  ('?MovePageUpButton') (0)
WHEN  ('?MoveTopButton') (0)
WHEN  ('?PrintButton') (0)

%ButtonThreadStack DEPEND %Control DEFAULT TIMES 14
WHEN  ('') ('25000')
WHEN  ('?AsciiBox') ('25000')
WHEN  ('?CloseButton') ('25000')
WHEN  ('?EditButton') ('25000')
WHEN  ('?FindButton') ('25000')
WHEN  ('?GoToButton') ('25000')
WHEN  ('?Image1') ('25000')
WHEN  ('?ListTextModeButton') ('25000')
WHEN  ('?MoveBottomButton') ('25000')
WHEN  ('?MovePageDownButton') ('25000')
WHEN  ('?MovePageUpButton') ('25000')
WHEN  ('?MoveTopButton') ('25000')
WHEN  ('?PrintButton') ('25000')
WHEN  ('?TextField') ('25000')

%ButtonParameters DEPEND %Control DEFAULT TIMES 10
WHEN  ('?CloseButton') ('')
WHEN  ('?EditButton') ('')
WHEN  ('?FindButton') ('')
WHEN  ('?GoToButton') ('')
WHEN  ('?ListTextModeButton') ('')
WHEN  ('?MoveBottomButton') ('')
WHEN  ('?MovePageDownButton') ('')
WHEN  ('?MovePageUpButton') ('')
WHEN  ('?MoveTopButton') ('')
WHEN  ('?PrintButton') ('')

%ButtonReturnValueAssignment DEPEND %Control FIELD TIMES 10
WHEN  ('?CloseButton') ()
WHEN  ('?EditButton') ()
WHEN  ('?FindButton') ()
WHEN  ('?GoToButton') ()
WHEN  ('?ListTextModeButton') ()
WHEN  ('?MoveBottomButton') ()
WHEN  ('?MovePageDownButton') ()
WHEN  ('?MovePageUpButton') ()
WHEN  ('?MoveTopButton') ()
WHEN  ('?PrintButton') ()

%ButtonReturnValueReferenceAssign DEPEND %Control LONG TIMES 10
WHEN  ('?CloseButton') (0)
WHEN  ('?EditButton') (0)
WHEN  ('?FindButton') (0)
WHEN  ('?GoToButton') (0)
WHEN  ('?ListTextModeButton') (0)
WHEN  ('?MoveBottomButton') (0)
WHEN  ('?MovePageDownButton') (0)
WHEN  ('?MovePageUpButton') (0)
WHEN  ('?MoveTopButton') (0)
WHEN  ('?PrintButton') (0)

%ButtonRequest DEPEND %Control DEFAULT TIMES 14
WHEN  ('') ('None')
WHEN  ('?AsciiBox') ('None')
WHEN  ('?CloseButton') ('None')
WHEN  ('?EditButton') ('None')
WHEN  ('?FindButton') ('None')
WHEN  ('?GoToButton') ('None')
WHEN  ('?Image1') ('None')
WHEN  ('?ListTextModeButton') ('None')
WHEN  ('?MoveBottomButton') ('None')
WHEN  ('?MovePageDownButton') ('None')
WHEN  ('?MovePageUpButton') ('None')
WHEN  ('?MoveTopButton') ('None')
WHEN  ('?PrintButton') ('None')
WHEN  ('?TextField') ('None')

%ButtonThreadParameters DEPEND %Control DEFAULT TIMES 10
WHEN  ('?CloseButton') ('')
WHEN  ('?EditButton') ('')
WHEN  ('?FindButton') ('')
WHEN  ('?GoToButton') ('')
WHEN  ('?ListTextModeButton') ('')
WHEN  ('?MoveBottomButton') ('')
WHEN  ('?MovePageDownButton') ('')
WHEN  ('?MovePageUpButton') ('')
WHEN  ('?MoveTopButton') ('')
WHEN  ('?PrintButton') ('')

%ButtonThreadReturnValueAssignment DEPEND %Control FIELD TIMES 10
WHEN  ('?CloseButton') ()
WHEN  ('?EditButton') ()
WHEN  ('?FindButton') ()
WHEN  ('?GoToButton') ()
WHEN  ('?ListTextModeButton') ()
WHEN  ('?MoveBottomButton') ()
WHEN  ('?MovePageDownButton') ()
WHEN  ('?MovePageUpButton') ()
WHEN  ('?MoveTopButton') ()
WHEN  ('?PrintButton') ()

%PreLookupKey DEPEND %Control KEY TIMES 0

%PreLookupField DEPEND %Control COMPONENT TIMES 0

%PreLookupProcedure DEPEND %Control PROCEDURE TIMES 0

%PostLookupKey DEPEND %Control KEY TIMES 0

%PostLookupField DEPEND %Control COMPONENT TIMES 0

%PostLookupProcedure DEPEND %Control PROCEDURE TIMES 0

%PostLookupDuringValidate DEPEND %Control LONG TIMES 14
WHEN  ('') (1)
WHEN  ('?AsciiBox') (1)
WHEN  ('?CloseButton') (1)
WHEN  ('?EditButton') (1)
WHEN  ('?FindButton') (1)
WHEN  ('?GoToButton') (1)
WHEN  ('?Image1') (1)
WHEN  ('?ListTextModeButton') (1)
WHEN  ('?MoveBottomButton') (1)
WHEN  ('?MovePageDownButton') (1)
WHEN  ('?MovePageUpButton') (1)
WHEN  ('?MoveTopButton') (1)
WHEN  ('?PrintButton') (1)
WHEN  ('?TextField') (1)

%ForceWindowRefresh DEPEND %Control LONG TIMES 0

%LookupAssign DEPEND %Control MULTI LONG TIMES 0

%MoreField DEPEND %LookupAssign DEFAULT TIMES 0

%MoreTarget DEPEND %LookupAssign FIELD TIMES 0

%CheckedAssigns DEPEND %Control MULTI LONG TIMES 0

%CheckedAssignVariable DEPEND %CheckedAssigns FIELD TIMES 0

%CheckedAssignValue DEPEND %CheckedAssigns DEFAULT TIMES 0

%CheckedHides DEPEND %Control MULTI LONG TIMES 0

%CheckedControl DEPEND %CheckedHides DEFAULT TIMES 0

%CheckedControlAction DEPEND %CheckedHides DEFAULT TIMES 14
WHEN  ('')TIMES 0
WHEN  ('?AsciiBox')TIMES 0
WHEN  ('?CloseButton')TIMES 0
WHEN  ('?EditButton')TIMES 0
WHEN  ('?FindButton')TIMES 0
WHEN  ('?GoToButton')TIMES 0
WHEN  ('?Image1')TIMES 0
WHEN  ('?ListTextModeButton')TIMES 0
WHEN  ('?MoveBottomButton')TIMES 0
WHEN  ('?MovePageDownButton')TIMES 0
WHEN  ('?MovePageUpButton')TIMES 0
WHEN  ('?MoveTopButton')TIMES 0
WHEN  ('?PrintButton')TIMES 0
WHEN  ('?TextField')TIMES 0

%CheckedEnables DEPEND %Control MULTI LONG TIMES 0

%CheckedControl1 DEPEND %CheckedEnables DEFAULT TIMES 0

%CheckedControl1Action DEPEND %CheckedEnables DEFAULT TIMES 14
WHEN  ('')TIMES 0
WHEN  ('?AsciiBox')TIMES 0
WHEN  ('?CloseButton')TIMES 0
WHEN  ('?EditButton')TIMES 0
WHEN  ('?FindButton')TIMES 0
WHEN  ('?GoToButton')TIMES 0
WHEN  ('?Image1')TIMES 0
WHEN  ('?ListTextModeButton')TIMES 0
WHEN  ('?MoveBottomButton')TIMES 0
WHEN  ('?MovePageDownButton')TIMES 0
WHEN  ('?MovePageUpButton')TIMES 0
WHEN  ('?MoveTopButton')TIMES 0
WHEN  ('?PrintButton')TIMES 0
WHEN  ('?TextField')TIMES 0

%UncheckedAssigns DEPEND %Control MULTI LONG TIMES 0

%UncheckedAssignVariable DEPEND %UncheckedAssigns FIELD TIMES 0

%UncheckedAssignValue DEPEND %UncheckedAssigns DEFAULT TIMES 0

%UnCheckedHides DEPEND %Control MULTI LONG TIMES 0

%UnCheckedControl DEPEND %UnCheckedHides DEFAULT TIMES 0

%UnCheckedControlAction DEPEND %UnCheckedHides DEFAULT TIMES 14
WHEN  ('')TIMES 0
WHEN  ('?AsciiBox')TIMES 0
WHEN  ('?CloseButton')TIMES 0
WHEN  ('?EditButton')TIMES 0
WHEN  ('?FindButton')TIMES 0
WHEN  ('?GoToButton')TIMES 0
WHEN  ('?Image1')TIMES 0
WHEN  ('?ListTextModeButton')TIMES 0
WHEN  ('?MoveBottomButton')TIMES 0
WHEN  ('?MovePageDownButton')TIMES 0
WHEN  ('?MovePageUpButton')TIMES 0
WHEN  ('?MoveTopButton')TIMES 0
WHEN  ('?PrintButton')TIMES 0
WHEN  ('?TextField')TIMES 0

%UnCheckedEnables DEPEND %Control MULTI LONG TIMES 0

%UnCheckedControl1 DEPEND %UnCheckedEnables DEFAULT TIMES 0

%UnCheckedControl1Action DEPEND %UnCheckedEnables DEFAULT TIMES 14
WHEN  ('')TIMES 0
WHEN  ('?AsciiBox')TIMES 0
WHEN  ('?CloseButton')TIMES 0
WHEN  ('?EditButton')TIMES 0
WHEN  ('?FindButton')TIMES 0
WHEN  ('?GoToButton')TIMES 0
WHEN  ('?Image1')TIMES 0
WHEN  ('?ListTextModeButton')TIMES 0
WHEN  ('?MoveBottomButton')TIMES 0
WHEN  ('?MovePageDownButton')TIMES 0
WHEN  ('?MovePageUpButton')TIMES 0
WHEN  ('?MoveTopButton')TIMES 0
WHEN  ('?PrintButton')TIMES 0
WHEN  ('?TextField')TIMES 0

%GlobalObject DEPEND %ClassItem DEFAULT TIMES 2
WHEN  ('Default') ('NO')
WHEN  ('WindowToolbar') ('NO')

%ProcedureDisableEnhanceFocus LONG  (0)
%ProcedureUseEnterInsteadTabOverride LONG  (0)
%WindowUseEnterInsteadTab LONG  (1)
%ProcedureUseEnterInsteadTabExcludeG LONG  (1)
%WindowUseEnterInsteadTabExclude MULTI DEFAULT  ()
%WindowStyles MULTI LONG  ()
%WindowStyleFontName DEPEND %WindowStyles DEFAULT TIMES 0

%WindowStyleFontSize DEPEND %WindowStyles DEFAULT TIMES 0

%WindowStyleFontStyle DEPEND %WindowStyles DEFAULT TIMES 0

%WindowStyleFontColor DEPEND %WindowStyles DEFAULT TIMES 0

%WindowStyleFontCharSet DEPEND %WindowStyles DEFAULT TIMES 0

%WindowStyleForegroundNormal DEPEND %WindowStyles LONG TIMES 0

%WindowStyleBackgroundNormal DEPEND %WindowStyles LONG TIMES 0

%WindowStyleForegroundSelected DEPEND %WindowStyles LONG TIMES 0

%WindowStyleBackgroundSelected DEPEND %WindowStyles LONG TIMES 0

%WindowStylePicture DEPEND %WindowStyles DEFAULT TIMES 0

%WindowStyleOtherListboxes MULTI DEFAULT  ()
%ProcedureAutoBindFields MULTI LONG  ()
%ProcedureAutoBindField DEPEND %ProcedureAutoBindFields DEFAULT TIMES 0

%ProcedureAutoBindFieldTPL DEPEND %ProcedureAutoBindFields DEFAULT TIMES 0

%ProcedureAutoBindProcedures MULTI LONG  ()
%ProcedureAutoBindProcedure DEPEND %ProcedureAutoBindProcedures DEFAULT TIMES 0

%ProcedureAutoBindProcedureTPL DEPEND %ProcedureAutoBindProcedures DEFAULT TIMES 0

%ProcedureUserBindFields MULTI LONG  ()
%ProcedureUserBindField DEPEND %ProcedureUserBindFields FIELD TIMES 0

%ProcedureAutoBindFieldIgnore DEPEND %ProcedureAutoBindFields LONG TIMES 0

%ProcedureUserBindProcedures MULTI LONG  ()
%ProcedureUserBindProcedure DEPEND %ProcedureUserBindProcedures PROCEDURE TIMES 0

%ProcedureAutoBindProcedureIgnore DEPEND %ProcedureAutoBindProcedures LONG TIMES 0

%ProcedureUserBindExpressions MULTI LONG  ()
%ProcedureUserBindExpressionName DEPEND %ProcedureUserBindExpressions DEFAULT TIMES 0

%ProcedureUserBindExpression DEPEND %ProcedureUserBindExpressions DEFAULT TIMES 0

%PreLookupProcedureParameters DEPEND %Control DEFAULT TIMES 0

%PostLookupProcedureParameters DEPEND %Control DEFAULT TIMES 0

%WindowStyleFontNameVariable DEPEND %WindowStyles DEFAULT TIMES 0

%WindowStyleFontNameIsVariable DEPEND %WindowStyles LONG TIMES 0

%WindowStyleFontSizeVariable DEPEND %WindowStyles DEFAULT TIMES 0

%WindowStyleFontSizeIsVariable DEPEND %WindowStyles LONG TIMES 0

%WindowStyleFontStyleVariable DEPEND %WindowStyles DEFAULT TIMES 0

%WindowStyleFontStyleIsVariable DEPEND %WindowStyles LONG TIMES 0

%WindowStyleForegroundNormalVariable DEPEND %WindowStyles DEFAULT TIMES 0

%WindowStyleForegroundNormalIsVariable DEPEND %WindowStyles LONG TIMES 0

%WindowStyleBackgroundNormalVariable DEPEND %WindowStyles DEFAULT TIMES 0

%WindowStyleBackgroundNormalIsVariable DEPEND %WindowStyles LONG TIMES 0

%WindowStyleForegroundSelectedVariable DEPEND %WindowStyles DEFAULT TIMES 0

%WindowStyleForegroundSelectedIsVariable DEPEND %WindowStyles LONG TIMES 0

%WindowStyleBackgroundSelectedVariable DEPEND %WindowStyles DEFAULT TIMES 0

%WindowStyleBackgroundSelectedIsVariable DEPEND %WindowStyles LONG TIMES 0

%WindowStylePictureVariable DEPEND %WindowStyles DEFAULT TIMES 0

%WindowStylePictureIsVariable DEPEND %WindowStyles LONG TIMES 0

%ProcedureAutoBindFieldsIgnored MULTI LONG  ()
%ProcedureAutoBindFieldIgnored DEPEND %ProcedureAutoBindFieldsIgnored DEFAULT TIMES 0

%ProcedureAutoBindProceduresIgnored MULTI LONG  ()
%ProcedureAutoBindProcedureIgnored DEPEND %ProcedureAutoBindProceduresIgnored DEFAULT TIMES 0

%ProcedureAutoBindValidToAddField LONG  (0)
%ProcedureUseEnterInsteadTabExcludeListCombo LONG  (0)
%ProcedureUseEnterInsteadTabDisableNextTabStop LONG  (0)
%ProcedureUseEnterInsteadTabEnableNextTabStop LONG  (0)
%ExtUITabIcon DEPEND %Control DEFAULT TIMES 0

%ExtUITabStyleOverrideGlobal DEPEND %Control LONG TIMES 0

%ExtUITabStyle DEPEND %Control DEFAULT TIMES 1
WHEN  ('') ('Default')

%CheckedDisables DEPEND %Control MULTI LONG TIMES 0

%CheckedDisableControl DEPEND %CheckedDisables DEFAULT TIMES 0

%CheckedDisableControlAction DEPEND %CheckedDisables DEFAULT TIMES 1
WHEN  ('')TIMES 0

%UnCheckedDisables DEPEND %Control MULTI LONG TIMES 0

%UnCheckedDisableControl DEPEND %UnCheckedDisables DEFAULT TIMES 0

%UnCheckedDisableControlAction DEPEND %UnCheckedDisables DEFAULT TIMES 1
WHEN  ('')TIMES 0

%ProcedureOneInstance LONG  (0)
%FieldGradientColorType DEPEND %Control DEFAULT TIMES 1
WHEN  ('') ('Off')

%FieldGradientColorTypeVariable DEPEND %Control DEFAULT TIMES 1
WHEN  ('') ('')

%FieldGradientColorTypeIsVariable DEPEND %Control LONG TIMES 1
WHEN  ('') (0)

%FieldGradientColorFrom DEPEND %Control LONG TIMES 1
WHEN  ('') (-1)

%FieldGradientColorFromVariable DEPEND %Control DEFAULT TIMES 0

%FieldGradientColorFromIsVariable DEPEND %Control LONG TIMES 1
WHEN  ('') (0)

%FieldGradientColorTo DEPEND %Control LONG TIMES 1
WHEN  ('') (-1)

%FieldGradientColorToVariable DEPEND %Control DEFAULT TIMES 0

%FieldGradientColorToIsVariable DEPEND %Control LONG TIMES 1
WHEN  ('') (0)

%PreserveVarsLoc MULTI LONG  ()
%PreserveVarLoc DEPEND %PreserveVarsLoc DEFAULT TIMES 0

%ActiveImageEnable DEPEND %Control LONG TIMES 0

%AIObjectName DEPEND %Control DEFAULT TIMES 2
WHEN  ('') ('AIBtn0')
WHEN  ('?Image1') ('AIBtn13')

%AIEnableMimicControl DEPEND %Control LONG TIMES 2
WHEN  ('') (1)
WHEN  ('?Image1') (1)

%AIMimicControl DEPEND %Control DEFAULT TIMES 2
WHEN  ('') ('?AsciiBox')
WHEN  ('?Image1') ('?AsciiBox')

%AIImgRound DEPEND %Control LONG TIMES 0

%AIOverrideImg DEPEND %Control DEFAULT TIMES 0

%AIOverrideImgVariable DEPEND %Control DEFAULT TIMES 0

%AIOverrideImgIsVariable DEPEND %Control LONG TIMES 2
WHEN  ('') (0)
WHEN  ('?Image1') (0)

%AIDisableImg DEPEND %Control DEFAULT TIMES 0

%AIDisableImgVariable DEPEND %Control DEFAULT TIMES 0

%AIDisableImgIsVariable DEPEND %Control LONG TIMES 2
WHEN  ('') (0)
WHEN  ('?Image1') (0)

%AIHotImg DEPEND %Control DEFAULT TIMES 0

%AIHotImgVariable DEPEND %Control DEFAULT TIMES 0

%AIHotImgIsVariable DEPEND %Control LONG TIMES 2
WHEN  ('') (0)
WHEN  ('?Image1') (0)

%AIPressedImg DEPEND %Control DEFAULT TIMES 0

%AIPressedImgVariable DEPEND %Control DEFAULT TIMES 0

%AIPressedImgIsVariable DEPEND %Control LONG TIMES 2
WHEN  ('') (0)
WHEN  ('?Image1') (0)

[EMBED]
EMBED %DataSection
[DEFINITION]
[SOURCE]
PROPERTY:BEGIN
PRIORITY 50
PROPERTY:END
!region Notices
! ================================================================================
! Notice : Copyright (C) 2017, Devuna
!          Distributed under LGPLv3 (http://www.gnu.org/licenses/lgpl.html)
!
!    This file is part of Devuna-ClassViewer (https://github.com/Devuna/Devuna-ClassViewer)
!
!    Devuna-ClassViewer is free software: you can redistribute it and/or modify
!    it under the terms of the GNU General Public License as published by
!    the Free Software Foundation, either version 3 of the License, or
!    (at your option) any later version.
!
!    Devuna-ClassViewer is distributed in the hope that it will be useful,
!    but WITHOUT ANY WARRANTY; without even the implied warranty of
!    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
!    GNU General Public License for more details.
!
!    You should have received a copy of the GNU General Public License
!    along with Devuna-ClassViewer.  If not, see <http://www.gnu.org/licenses/>.
! ================================================================================
!endregion Notices
[END]
EMBED %ViewerMethodCodeSection
[INSTANCES]
WHEN '1'
[INSTANCES]
WHEN 'Init'
[INSTANCES]
WHEN '(FILE AsciiFile,*STRING FileLine,*STRING Filename,UNSIGNED ListBox,ErrorClass ErrHandler,BYTE Enables=0),BYTE'
[DEFINITION]
[SOURCE]
PROPERTY:BEGIN
PRIORITY 5001
PROPERTY:END
ListBox{PROP:HScroll} = FALSE !?AsciiBox
ListBox{PROP:FORMAT} = '24L(2)|@n05@250L(2)YS(1024)@s255@'
ListBox{PROPLIST:BackColor,1} = COLOR:BTNFACE

ListBox{PROPSTYLE:TextColor,1} = COLOR:BLACK
ListBox{PROPSTYLE:BackColor,1} = COLOR:WHITE
ListBox{PROPSTYLE:TextSelected,1} = glo:lSelectedFore !COLOR:BLACK
ListBox{PROPSTYLE:BackSelected,1} = glo:lSelectedBack
ListBox{PROPSTYLE:FontName,1} = 'Courier New'
ListBox{PROPSTYLE:FontSize,1} = glo:FontSize
ListBox{PROPSTYLE:FontStyle,1} = glo:FontStyle

ListBox{PROPSTYLE:TextColor,2} = glo:lHighlightColor2
ListBox{PROPSTYLE:BackColor,2} = COLOR:BTNFACE
ListBox{PROPSTYLE:TextSelected,2} = glo:lHighlightColor2
ListBox{PROPSTYLE:BackSelected,2} = glo:lSelectedBack
ListBox{PROPSTYLE:FontName,2} = 'Courier New'
ListBox{PROPSTYLE:FontSize,2} = glo:FontSize
ListBox{PROPSTYLE:FontStyle,2} = glo:FontStyle

ListBox{PROPSTYLE:TextColor,3} = glo:lHighlightColor1
ListBox{PROPSTYLE:BackColor,3} = COLOR:BTNFACE
ListBox{PROPSTYLE:TextSelected,3} = glo:lHighlightColor1
ListBox{PROPSTYLE:BackSelected,3} = glo:lSelectedBack
ListBox{PROPSTYLE:FontName,3} = 'Courier New'
ListBox{PROPSTYLE:FontSize,3} = glo:FontSize
ListBox{PROPSTYLE:FontStyle,3} = glo:FontStyle

SELF.Popup.AddMenu('~&Find|~&Print|&Edit|-|&Move{{&Top|Page &Up|Page &Down|Bottom}|-|&Goto')
SELF.Popup.SetItemEnable('Find',CHOOSE(BAND(Enables,EnableSearch)))
SELF.Popup.SetItemEnable('Print',CHOOSE(BAND(Enables,EnablePrint)))
SELF.Popup.AddItemEvent('Top',EVENT:ScrollTop,ListBox)
SELF.Popup.AddItemEvent('PageUp',EVENT:PageUp,ListBox)
SELF.Popup.AddItemEvent('PageDown',EVENT:PageDown,ListBox)
SELF.Popup.AddItemEvent('Bottom',EVENT:ScrollBottom,ListBox)
[END]
[END]
WHEN 'SetDisplayQueueStyle'
[INSTANCES]
WHEN '(LONG LineNo,*LONG Style)'
[DEFINITION]
[SOURCE]
PROPERTY:BEGIN
PRIORITY 5001
PROPERTY:END
Style = CHOOSE(LineNo=lSearchLine,3,lStyle)
[END]
[END]
WHEN 'FormatLine'
[INSTANCES]
WHEN '(*STRING TextLine,LONG LineNo)'
[DEFINITION]
[SOURCE]
PROPERTY:BEGIN
PRIORITY 5001
PROPERTY:END
IF RECORDS(LineNoQueue)
   LineNoQueue.LineNo = LineNo
   GET(LineNoQueue,+LineNoQueue.LineNo)
   IF ERRORCODE()
      lStyle = 1
      GET(LineNoQueue,1)        !Force ERRORCODE to Clear
   ELSE
      I = INSTRING('.',TreeQ.szSearch)
      IF I
         sz = TreeQ.szSearch[I : LEN(TreeQ.szSearch)]
         IF INSTRING(sz & ' ',TextLine,1)
            lStyle = 2
         ELSIF INSTRING(sz & '(',TextLine,1)
            lStyle = 2
         ELSE
            lStyle = 1
         END
      ELSE
         lStyle = 1
      END
   END
END
[END]
[END]
[END]
[END]
EMBED %ControlEventHandling
[INSTANCES]
WHEN '?CloseButton'
[INSTANCES]
WHEN 'Accepted'
[DEFINITION]
[GROUP]
PRIORITY 5000
INSTANCE 2
[END]
[END]
WHEN '?FindButton'
[INSTANCES]
WHEN 'Accepted'
[DEFINITION]
[SOURCE]
PROPERTY:BEGIN
PRIORITY 5100
PROPERTY:END
Viewer1.Searcher.Ask(CHOOSE(CHOICE(?AsciiBox)>0,Viewer1.TopLine+CHOICE(?AsciiBox)-1,1))
[END]
[END]
WHEN '?GoToButton'
[INSTANCES]
WHEN 'Accepted'
[DEFINITION]
[SOURCE]
PROPERTY:BEGIN
PRIORITY 5100
PROPERTY:END
Viewer1.AskGotoLine
[END]
[END]
WHEN '?EditButton'
[INSTANCES]
WHEN 'Accepted'
[DEFINITION]
[SOURCE]
PROPERTY:BEGIN
PRIORITY 5100
PROPERTY:END
IF glo:bUseAssociation
   szFilename = CLIP(sFilename)
   szNull = ''
   ShellExecute(window{prop:handle},0,szFilename,0,szNull,1)
ELSE
   szCommandline = 'Notepad.exe ' & CLIP(sFilename)
   IF glo:szEditorCommand
      szCommandLine = glo:szEditorCommand
      I = INSTRING('.EXE ',UPPER(szCommandLine),1)
      IF I
         szCommandLine = SHORTPATH(szCommandLine[i : I+3]) & szCommandLine[I+4 : LEN(szCommandLine)]
      END
      !look for filename parameter token
      I = INSTRING('%1',szCommandLine,1)
      IF I
         szCommandLine = SUB(szCommandLine,1,I-1) & |
                         CLIP(sFilename) & |
                         SUB(szCommandLine,I+2,LEN(szCommandLine)-(I+1))
      END
      !look for line number parameter token
      I = INSTRING('%2',szCommandLine,1)
      IF I
         szCommandLine = SUB(szCommandLine,1,I-1) & |
                         lSearchLine & |
                         SUB(szCommandLine,I+2,LEN(szCommandLine)-(I+1))
      END
   END
   RUN(szCommandLine)
   IF RUNCODE() = -4   !Failed to execute
     CASE MESSAGE('An error occurred trying to execute the following command:||' & szCommandLine & |
             '||Do you want to use Notepad?',ERROR(),ICON:EXCLAMATION, |
             BUTTON:YES+BUTTON:NO,BUTTON:YES)
     OF BUTTON:YES
        RUN('Notepad.exe ' & CLIP(sFilename))
     END
   END
END
[END]
[END]
WHEN '?PrintButton'
[INSTANCES]
WHEN 'Accepted'
[DEFINITION]
[SOURCE]
PROPERTY:BEGIN
PRIORITY 5100
PROPERTY:END
Viewer1.Printer.Ask
[END]
[END]
WHEN '?MoveBottomButton'
[INSTANCES]
WHEN 'Accepted'
[DEFINITION]
[SOURCE]
PROPERTY:BEGIN
PRIORITY 5100
PROPERTY:END
POST(EVENT:ScrollBottom,?AsciiBox)
[END]
[END]
WHEN '?MovePageDownButton'
[INSTANCES]
WHEN 'Accepted'
[DEFINITION]
[SOURCE]
PROPERTY:BEGIN
PRIORITY 5100
PROPERTY:END
POST(EVENT:PageDown,?AsciiBox)
[END]
[END]
WHEN '?MovePageUpButton'
[INSTANCES]
WHEN 'Accepted'
[DEFINITION]
[SOURCE]
PROPERTY:BEGIN
PRIORITY 5100
PROPERTY:END
POST(EVENT:PageUp,?AsciiBox)
[END]
[END]
WHEN '?MoveTopButton'
[INSTANCES]
WHEN 'Accepted'
[DEFINITION]
[SOURCE]
PROPERTY:BEGIN
PRIORITY 5100
PROPERTY:END
POST(EVENT:ScrollTop,?AsciiBox)
[END]
[END]
WHEN '?ListTextModeButton'
[INSTANCES]
WHEN 'Accepted'
[DEFINITION]
[SOURCE]
PROPERTY:BEGIN
PRIORITY 5000
PROPERTY:END
IF ?TextField{PROP:Hide} = TRUE
   !?ListTextModeButton{PROP:Text} = 'Lis&t'
   ?ListTextModeButton{PROP:Icon} = '~LIST.ICO'
   IF glo:bShowTips
      tt.updatetiptext(?ListTextModeButton{PROP:HANDLE},'List View',0)
   ELSE
      ?ListTextModeButton{PROP:Tip} = 'List View'
   END
   ?AsciiBox{PROP:Hide} = TRUE
   ?TextField{PROP:Hide} = FALSE
ELSE
   !?ListTextModeButton{PROP:Text} = '&Text'
   ?ListTextModeButton{PROP:Icon} = '~TEXT.ICO'
   IF glo:bShowTips
      tt.updatetiptext(?ListTextModeButton{PROP:HANDLE},'Text View',0)
   ELSE
      ?ListTextModeButton{PROP:Tip} = 'Text View'
   END
   ?TextField{PROP:Hide} = TRUE
   ?AsciiBox{PROP:Hide} = FALSE
END
[END]
[END]
[END]
EMBED %WindowManagerMethodCodeSection
[INSTANCES]
WHEN 'Init'
[INSTANCES]
WHEN '(),BYTE'
[DEFINITION]
[SOURCE]
PROPERTY:BEGIN
PRIORITY 6001
PROPERTY:END
K = POINTER(CallQ)
J = RECORDS(CallQ)
LOOP I = 1 TO J
  GET(CallQ,I)
  IF CallQ.szCalledMethod = TreeQ.szSearch
     LineNoQueue.LineNo = CallQ.lLineNum
     ADD(LineNoQueue,+LineNoQueue.LineNo)
  END
END
GET(CallQ,K)
[SOURCE]
PROPERTY:BEGIN
PRIORITY 8001
PROPERTY:END
window{PROP:Text} = 'View File [' & CLIP(sFilename) & ']' !& ' [' & pWhat & ']'
?AsciiBox{PROP:SelectedColor} = glo:lSelectedFore !COLOR:BLACK
?AsciiBox{PROP:SelectedFillColor} = glo:lSelectedBack
[SOURCE]
PROPERTY:BEGIN
PRIORITY 8001
PROPERTY:END
CASE glo:Background
OF 1  !Color
   window{PROP:Wallpaper} = ''
   window{PROP:Color} = glo:Color2
OF 2  !Wallpaper
   window{PROP:Wallpaper} = glo:szWallpaper2
   window{PROP:Tiled} = glo:Tiled2
   window{PROP:Color} = COLOR:NONE
OF 3  !None
   window{PROP:Wallpaper} = ''
   window{PROP:Color} = COLOR:NONE
END
J = LASTFIELD()
LOOP I = 0 TO J
   CASE I
   OF ?AsciiBox OROF ?TextField
      SETFONT(I,,glo:FontSize,glo:FontColor,glo:FontStyle,0)
   ELSE
      SETFONT(I,glo:Typeface,glo:FontSize,glo:FontColor,glo:FontStyle,0)
   END
END
[SOURCE]
PROPERTY:BEGIN
PRIORITY 8400
PROPERTY:END
IF NUMERIC(pWhat)
   sSearchString = ''
   lSearchLine = pWhat
   LineNoQueue.LineNo = lSearchLine
   ADD(LineNoQueue,+LineNoQueue.LineNo)
ELSE
   sSearchString = pWhat
   lSearchLine = 0
END

AsciiFileName1 = sFileName
OMIT('CLEAR(AsciiFilename1)')
[SOURCE]
PROPERTY:BEGIN
PRIORITY 8501
LABEL
PROPERTY:END
  ?AsciiBox{PROP:Alrt,250} = MouseLeft2
  ?TextField{PROP:Alrt,250} = MouseLeft2
  ?TextField{PROP:LeftOffset} = 2

  POST(EVENT:USER)
[SOURCE]
PROPERTY:BEGIN
PRIORITY 9001
PROPERTY:END
IF glo:bForceEdit = 1
   POST(EVENT:Accepted,?EditButton)
END
[SOURCE]
PROPERTY:BEGIN
PRIORITY 9300
PROPERTY:END
IF glo:bUseHTMLHelp
   IF oHH &= NULL
[SOURCE]
PROPERTY:BEGIN
PRIORITY 9700
PROPERTY:END
   ELSE
      oHH.SetHelpFile( 'ABCVIEW.CHM' )
      oHH.SetTopic('Ascii_File_Viewer.htm')
   END
END
[END]
[END]
WHEN 'TakeEvent'
[INSTANCES]
WHEN '(),BYTE'
[DEFINITION]
[SOURCE]
PROPERTY:BEGIN
PRIORITY 6300
PROPERTY:END
  IF EVENT() = EVENT:USER
     Viewer1.GetLastLineNo()
     IF sSearchString
        Find.What = sSearchString
        Find.MatchCase = TRUE
        Find.Direction = 'Down'
        Viewer1.Searcher.Setup(Find)
        Viewer1.DisplayPage(Viewer1.Searcher.Next())
     ELSE
        Viewer1.DisplayPage(lSearchLine)
     END
     DO FillTextField
  END
[END]
[END]
[END]
EMBED %WindowManagerMethodDataSection
[INSTANCES]
WHEN 'TakeEvent'
[INSTANCES]
WHEN '(),BYTE'
[DEFINITION]
[SOURCE]
PROPERTY:BEGIN
PRIORITY 8500
PROPERTY:END
Find                GROUP(AsciiFindGroup),PRE(Find)
                    END
[END]
[END]
WHEN 'TakeAccepted'
[INSTANCES]
WHEN '(),BYTE'
[DEFINITION]
[SOURCE]
PROPERTY:BEGIN
PRIORITY 8500
PROPERTY:END
szNull          CSTRING(2)
szFilename      CSTRING(256)
szCommandLine   CSTRING(256),AUTO
I               LONG,AUTO
[END]
[END]
WHEN 'Init'
[INSTANCES]
WHEN '(),BYTE'
[DEFINITION]
[SOURCE]
PROPERTY:BEGIN
PRIORITY 5000
PROPERTY:END
I   LONG,AUTO
J   LONG,AUTO
K   LONG,AUTO
[END]
[END]
WHEN 'TakeWindowEvent'
[INSTANCES]
WHEN '(),BYTE'
[DEFINITION]
[SOURCE]
PROPERTY:BEGIN
PRIORITY 8500
PROPERTY:END
I                   LONG
J                   LONG
TextLine            CSTRING(255)
sz                  CSTRING(65)
LastLine            LONG
StartLine           LONG
Find                GROUP(AsciiFindGroup),PRE(Find)
                    END
[END]
[END]
[END]
EMBED %NewMethodCodeSection
[INSTANCES]
WHEN '1'
[INSTANCES]
WHEN 'Default'
[INSTANCES]
WHEN '1'
[DEFINITION]
[SOURCE]
PROPERTY:BEGIN
PRIORITY 5000
PROPERTY:END
IF FIELD() = ?AsciiBox
   CASE EventNo
   OF EVENT:AlertKey
      CASE KEYCODE()
      OF MouseLeft2
         !GETPOSITION(?AsciiBox,X,Y,W,H)
         !SETPOSITION(?TextField,X,Y,W,H)
         POST(EVENT:Accepted,?ListTextModeButton)
      OF MouseRightUp
         CASE SELF.Popup.Ask()
         OF 'Find'
            SELF.Searcher.Ask(CHOOSE(CHOICE(?AsciiBox)>0,Viewer1.TopLine+CHOICE(?AsciiBox)-1,1))
         OF 'Print'
            SELF.Printer.Ask
         OF 'Edit'
            POST(EVENT:Accepted,?EditButton)   !RUN('Notepad.exe ' & sFilename)
         OF 'Goto'
            SELF.AskGotoLine
         END
         ReturnValue = Level:Notify
      ELSE
         ReturnValue = PARENT.TakeEvent(EventNo)
      END
   ELSE
      ReturnValue = PARENT.TakeEvent(EventNo)
   END
ELSE
   ReturnValue = PARENT.TakeEvent(EventNo)
END

DO FillTextField

RETURN ReturnValue
[END]
[END]
[END]
[END]
EMBED %NewMethodDataSection
[INSTANCES]
WHEN '1'
[INSTANCES]
WHEN 'Default'
[INSTANCES]
WHEN '1'
[DEFINITION]
[SOURCE]
PROPERTY:BEGIN
PRIORITY 5000
PROPERTY:END
ReturnValue          BYTE,AUTO
I                    LONG,AUTO
J                    LONG,AUTO
X                    SHORT,AUTO
Y                    SHORT,AUTO
W                    SHORT,AUTO
H                    SHORT,AUTO
[END]
[END]
[END]
[END]
EMBED %ControlHandling
[INSTANCES]
WHEN '?TextField'
[DEFINITION]
[SOURCE]
PROPERTY:BEGIN
PRIORITY 6800
PROPERTY:END
OF EVENT:AlertKey
   IF KEYCODE() = MouseLeft2
      POST(EVENT:Accepted,?ListTextModeButton)
   END
[SOURCE]
PROPERTY:BEGIN
PRIORITY 7800
PROPERTY:END
   FORWARDKEY(?AsciiBox)
[END]
[END]
EMBED %ProcedureRoutines
[DEFINITION]
[SOURCE]
PROPERTY:BEGIN
PRIORITY 4000
PROPERTY:END
FillTextField   ROUTINE
  DATA
I   LONG,AUTO
J   LONG,AUTO

  CODE
  TextField = ''
  J = Viewer1.TopLine + ?AsciiBox{PROP:Items} !- 1
  LOOP I = Viewer1.TopLine TO J
     TextField = TextField & CLIP(Viewer1.GetLine(I)) & '<13,10>'
  END
  DISPLAY(?TextField)
[END]
EMBED %WindowEventHandling
[INSTANCES]
WHEN 'Restore'
[DEFINITION]
[SOURCE]
PROPERTY:BEGIN
PRIORITY 5000
PROPERTY:END
Window{PROP:Iconize} = FALSE
[END]
WHEN 'Iconize'
[DEFINITION]
[SOURCE]
PROPERTY:BEGIN
PRIORITY 5000
PROPERTY:END
Window{PROP:Iconize} = TRUE
[END]
WHEN 'AlertKey'
[DEFINITION]
[SOURCE]
PROPERTY:BEGIN
PRIORITY 5000
PROPERTY:END
CASE KEYCODE()
OF CtrlE
   POST(EVENT:Accepted,?EditButton)
OF CtrlG
   POST(EVENT:Accepted,?GoToButton)
OF CtrlL
   IF ?TextField{PROP:Hide} = FALSE
      POST(EVENT:Accepted,?ListTextModeButton)
   END
OF CtrlP
   POST(EVENT:Accepted,?PrintButton)
OF CtrlT
   IF ?TextField{PROP:Hide} = TRUE
      POST(EVENT:Accepted,?ListTextModeButton)
   END
OF AltF3 OROF CtrlF
   POST(EVENT:Accepted,?FindButton)
OF F3Key
   Viewer1.Searcher.GetLastSearch(Find,LastLine)
   IF Find.What
      Find.Direction = 'Down'
      Viewer1.Searcher.Setup(Find,Viewer1.TopLine)

      StartLine = Viewer1.Searcher.Next()
      IF ~StartLine
         CASE GlobalErrors.Throw(Msg:SearchReachedEnd)
         OF Level:Benign
            Viewer1.Searcher.Setup(Find,1)
            Viewer1.DisplayPage(Viewer1.Searcher.Next())
            DO FillTextField
         OF Level:Cancel
            !do nothing
         ELSE
            ASSERT(False) !Unexpected return value from ErrorMgr.Throw()
         END
      ELSE
         Viewer1.DisplayPage(StartLine)
         DO FillTextField
      END

   ELSE
      POST(EVENT:Accepted,?FindButton)
   END

OF ShiftF3
   Viewer1.Searcher.GetLastSearch(Find,LastLine)
   IF Find.What
      Find.Direction = 'Up'
      Viewer1.Searcher.Setup(Find,Viewer1.TopLine)

      StartLine = Viewer1.Searcher.Next()
      IF ~StartLine
         CASE GlobalErrors.Throw(Msg:SearchReachedBeginning)
         OF Level:Benign
            Viewer1.Searcher.Setup(Find,Viewer1.GetLastLineNo())
            Viewer1.DisplayPage(Viewer1.Searcher.Next())
            DO FillTextField
         OF Level:Cancel
            !Do nothing
         ELSE
            ASSERT(False) !Unexpected return value from ErrorMgr.Throw()
         END
      ELSE
         Viewer1.DisplayPage(Viewer1.Searcher.Next())
         DO FillTextField
      END

   ELSE
      POST(EVENT:Accepted,?FindButton)
   END

OF CtrlF3
   J = RECORDS(LineNoQueue)
   IF J
      Viewer1.Searcher.GetLastSearch(Find,LastLine)
      Find.Direction = 'Down'
      Viewer1.Searcher.Setup(Find,Viewer1.TopLine)

      !StartLine = Viewer1.Searcher.Next()
      I = INSTRING('.',TreeQ.szSearch)
      sz = TreeQ.szSearch[I : LEN(TreeQ.szSearch)]
      StartLine = 0
      LOOP I = 1 TO J
         GET(LineNoQueue,I)
         IF LineNoQueue.LineNo > Viewer1.TopLine
            TextLine = Viewer1.GetLine(LineNoQueue.LineNo)
            IF INSTRING(sz & ' ',TextLine,1)
               StartLine = LineNoQueue.LineNo
               BREAK
            ELSIF INSTRING(sz & '(',TextLine,1)
               StartLine = LineNoQueue.LineNo
               BREAK
            END
         END
      END

      IF ~StartLine
         CASE GlobalErrors.Throw(Msg:SearchReachedEnd)
         OF Level:Benign
            Viewer1.Searcher.Setup(Find,1)
            !Viewer1.DisplayPage(Viewer1.Searcher.Next())
            Viewer1.TopLine = 1
            LOOP I = 1 TO J
               GET(LineNoQueue,I)
               IF LineNoQueue.LineNo > Viewer1.TopLine
                  TextLine = Viewer1.GetLine(LineNoQueue.LineNo)
                  IF INSTRING(sz & ' ',TextLine,1)
                     StartLine = LineNoQueue.LineNo
                     BREAK
                  ELSIF INSTRING(sz & '(',TextLine,1)
                     StartLine = LineNoQueue.LineNo
                     BREAK
                  END
               END
            END
            Viewer1.DisplayPage(StartLine)
            DO FillTextField
         OF Level:Cancel
            !do nothing
         ELSE
            ASSERT(False) !Unexpected return value from ErrorMgr.Throw()
         END
      ELSE
         Viewer1.DisplayPage(StartLine)
         DO FillTextField
      END
   END

OF CtrlShiftF3
   J = RECORDS(LineNoQueue)
   IF J
      Viewer1.Searcher.GetLastSearch(Find,LastLine)
      Find.Direction = 'Up'
      Viewer1.Searcher.Setup(Find,Viewer1.TopLine)

      !StartLine = Viewer1.Searcher.Next()
      I = INSTRING('.',TreeQ.szSearch)
      sz = TreeQ.szSearch[I : LEN(TreeQ.szSearch)]
      StartLine = 0
      LOOP I = J TO 1 BY -1
         GET(LineNoQueue,I)
         IF LineNoQueue.LineNo < Viewer1.TopLine
            TextLine = Viewer1.GetLine(LineNoQueue.LineNo)
            IF INSTRING(sz & ' ',TextLine,1)
               StartLine = LineNoQueue.LineNo
               BREAK
            ELSIF INSTRING(sz & '(',TextLine,1)
               StartLine = LineNoQueue.LineNo
               BREAK
            END
         END
      END

      IF ~StartLine
         CASE GlobalErrors.Throw(Msg:SearchReachedEnd)
         OF Level:Benign
            Viewer1.Searcher.Setup(Find,1)
            !Viewer1.DisplayPage(Viewer1.Searcher.Next())
            Viewer1.TopLine = Viewer1.GetLastLineNo()
            LOOP I = J TO 1 BY -1
               GET(LineNoQueue,I)
               IF LineNoQueue.LineNo < Viewer1.TopLine
                  TextLine = Viewer1.GetLine(LineNoQueue.LineNo)
                  IF INSTRING(sz & ' ',TextLine,1)
                     StartLine = LineNoQueue.LineNo
                     BREAK
                  ELSIF INSTRING(sz & '(',TextLine,1)
                     StartLine = LineNoQueue.LineNo
                     BREAK
                  END
               END
            END
            Viewer1.DisplayPage(StartLine)
            DO FillTextField
         OF Level:Cancel
            !do nothing
         ELSE
            ASSERT(False) !Unexpected return value from ErrorMgr.Throw()
         END
      ELSE
         Viewer1.DisplayPage(StartLine)
         DO FillTextField
      END
   END
END
[END]
[END]
EMBED %ResizerMethodCodeSection
[INSTANCES]
WHEN '3'
[INSTANCES]
WHEN 'Init'
[INSTANCES]
WHEN '(BYTE AppStrategy=AppStrategy:Resize,BYTE SetWindowMinSize=False,BYTE SetWindowMaxSize=False)'
[DEFINITION]
[SOURCE]
PROPERTY:BEGIN
PRIORITY 8500
PROPERTY:END
?TextField{PROP:XPos} = ?AsciiBox{PROP:XPos}
?TextField{PROP:YPos} = ?AsciiBox{PROP:YPos}
[END]
[END]
[END]
[END]
EMBED %ViewerMethodDataSection
[INSTANCES]
WHEN '1'
[INSTANCES]
WHEN 'FormatLine'
[INSTANCES]
WHEN '(*STRING TextLine,LONG LineNo)'
[DEFINITION]
[SOURCE]
PROPERTY:BEGIN
PRIORITY 5000
PROPERTY:END
I   LONG,AUTO
sz  CSTRING(256)
[END]
[END]
[END]
[END]
[END]
[ADDITION]
NAME ABC cwHHProc
[INSTANCE]
INSTANCE 6
OWNER 5
[PROMPTS]
%cwHHFileName DEFAULT  ('')
%cwHHContextURL DEFAULT  ('Ascii_File_Viewer.htm')
%cwHHAltTrapKey DEFAULT  ('')
[ADDITION]
NAME ABC AsciiViewInListBox
[INSTANCE]
INSTANCE 1
[PROMPTS]
%ClassItem UNIQUE DEFAULT  ('Default')
%DefaultBaseClassType DEPEND %ClassItem DEFAULT TIMES 1
WHEN  ('Default') ('AsciiViewerClass')

%ActualDefaultBaseClassType DEPEND %ClassItem DEFAULT TIMES 1
WHEN  ('Default') ('')

%ClassLines DEPEND %ClassItem MULTI DEFAULT TIMES 1
WHEN  ('Default') ('FormatLine {13}PROCEDURE(*STRING TextLine,LONG LineNo),DERIVED', |
  'Init {19}PROCEDURE(FILE AsciiFile,*STRING FileLine,*STRING Filename,UNSIGNED ListBox,ErrorClass ErrHandler,BYTE Enables=0),BYTE', |
  'SetDisplayQueueStyle   PROCEDURE(LONG LineNo,*LONG Style),DERIVED')

%ListBoxFieldToUse DEFAULT  ('?AsciiBox')
%InitializeViewer DEFAULT  ('On Open Window')
%BrowseFile DEFAULT  ('')
%AllowSearch LONG  (1)
%AllowPrint LONG  (1)
%ReAssignCheck LONG  (0)
%AssignQueue DEFAULT  ('')
%ThisObjectName DEPEND %ClassItem DEFAULT TIMES 1
WHEN  ('Default') ('Viewer1')

%UseDefaultABCBaseClass DEPEND %ClassItem LONG TIMES 1
WHEN  ('Default') (0)

%UseABCBaseClass DEPEND %ClassItem LONG TIMES 1
WHEN  ('Default') (1)

%ABCBaseClass DEPEND %ClassItem DEFAULT TIMES 1
WHEN  ('Default') ('kcrAsciiViewerClass')

%ExtBaseClass DEPEND %ClassItem DEFAULT TIMES 0

%BaseClassIncludeFile DEPEND %ClassItem DEFAULT TIMES 0

%DeriveFromBaseClass DEPEND %ClassItem LONG TIMES 1
WHEN  ('Default') (1)

%NewMethods DEPEND %ClassItem MULTI LONG TIMES 1
WHEN  ('Default') (1)

%NewMethodName DEPEND %NewMethods DEFAULT TIMES 1
WHEN  ('Default')TIMES 1
WHEN  (1) ('TakeEvent')

%NewMethodPrototype DEPEND %NewMethods DEFAULT TIMES 1
WHEN  ('Default')TIMES 1
WHEN  (1) ('(LONG EventNo),BYTE,PROC')

%NewClassPropertyItems DEPEND %ClassItem MULTI LONG TIMES 1
WHEN  ('Default') ()

%NewClassProperty DEPEND %NewClassPropertyItems DEFAULT TIMES 1
WHEN  ('Default')TIMES 0

%NewClassDataType DEPEND %NewClassPropertyItems DEFAULT TIMES 1
WHEN  ('Default')TIMES 0

%NewClassOtherType DEPEND %NewClassPropertyItems DEFAULT TIMES 0

%NewClassDataIsRef DEPEND %NewClassPropertyItems LONG TIMES 0

%NewClassDataSize DEPEND %NewClassPropertyItems DEFAULT TIMES 1
WHEN  ('Default')TIMES 0

%NewClassDataDim1 DEPEND %NewClassPropertyItems DEFAULT TIMES 0

%NewClassDataDim2 DEPEND %NewClassPropertyItems DEFAULT TIMES 0

%NewClassDataDim3 DEPEND %NewClassPropertyItems DEFAULT TIMES 0

%NewClassDataDim4 DEPEND %NewClassPropertyItems DEFAULT TIMES 0

%ClassMethods DEPEND %ClassItem MULTI LONG TIMES 0

%ClassMethodName DEPEND %ClassMethods DEFAULT TIMES 0

%ClassMethodPrototype DEPEND %ClassMethods DEFAULT TIMES 0

%ClassPropertyItems DEPEND %ClassItem MULTI LONG TIMES 0

%ClassProperty DEPEND %ClassPropertyItems DEFAULT TIMES 0

%ClassDataType DEPEND %ClassPropertyItems DEFAULT TIMES 1
WHEN  ('Default')TIMES 0

%ClassOtherType DEPEND %ClassPropertyItems DEFAULT TIMES 0

%ClassDataIsRef DEPEND %ClassPropertyItems LONG TIMES 0

%ClassDataSize DEPEND %ClassPropertyItems DEFAULT TIMES 0

%ClassDataDim1 DEPEND %ClassPropertyItems DEFAULT TIMES 0

%ClassDataDim2 DEPEND %ClassPropertyItems DEFAULT TIMES 0

%ClassDataDim3 DEPEND %ClassPropertyItems DEFAULT TIMES 0

%ClassDataDim4 DEPEND %ClassPropertyItems DEFAULT TIMES 0

%GlobalObject DEPEND %ClassItem DEFAULT TIMES 1
WHEN  ('Default') ('NO')

[ADDITION]
NAME ABC CloseCurrentWindow
[INSTANCE]
INSTANCE 2
[ADDITION]
NAME KCR KCR_ToolTips
[INSTANCE]
INSTANCE 4
[PROMPTS]
%TplName DEFAULT  ('KCR_ToolTips (Devuna)')
%TplDescription DEFAULT  ('ToolTips Extension')
%UseBalloonTips LONG  (1)
%ToolTipControls MULTI LONG  (1, 2, 3, 4, 5, 6, 7, 8, 9, 10)
%ToolTipControl DEPEND %ToolTipControls DEFAULT TIMES 10
WHEN  (1) ('?MoveTopButton')
WHEN  (2) ('?MovePageUpButton')
WHEN  (3) ('?MovePageDownButton')
WHEN  (4) ('?MoveBottomButton')
WHEN  (5) ('?GoToButton')
WHEN  (6) ('?FindButton')
WHEN  (7) ('?PrintButton')
WHEN  (8) ('?EditButton')
WHEN  (9) ('?ListTextModeButton')
WHEN  (10) ('?CloseButton')

%MultiLineTip DEPEND %ToolTipControls LONG TIMES 10
WHEN  (1) (0)
WHEN  (2) (0)
WHEN  (3) (0)
WHEN  (4) (0)
WHEN  (5) (0)
WHEN  (6) (0)
WHEN  (7) (0)
WHEN  (8) (0)
WHEN  (9) (0)
WHEN  (10) (0)

%ToolTipTextOption DEPEND %ToolTipControls DEFAULT TIMES 10
WHEN  (1) ('Use Tip Text')
WHEN  (2) ('Use Tip Text')
WHEN  (3) ('Use Tip Text')
WHEN  (4) ('Use Tip Text')
WHEN  (5) ('Use Tip Text')
WHEN  (6) ('Use Tip Text')
WHEN  (7) ('Use Tip Text')
WHEN  (8) ('Use Tip Text')
WHEN  (9) ('Specify Text')
WHEN  (10) ('Use Tip Text')

%TTLocalVariable DEPEND %ToolTipControls DEFAULT TIMES 10
WHEN  (1) ('FilesOpened')
WHEN  (2) ('FilesOpened')
WHEN  (3) ('FilesOpened')
WHEN  (4) ('FilesOpened')
WHEN  (5) ('FilesOpened')
WHEN  (6) ('FilesOpened')
WHEN  (7) ('FilesOpened')
WHEN  (8) ('FilesOpened')
WHEN  (9) ('FilesOpened')
WHEN  (10) ('FilesOpened')

%TTGlobalVariable DEPEND %ToolTipControls DEFAULT TIMES 10
WHEN  (1) ('szRoot')
WHEN  (2) ('szRoot')
WHEN  (3) ('szRoot')
WHEN  (4) ('szRoot')
WHEN  (5) ('szRoot')
WHEN  (6) ('szRoot')
WHEN  (7) ('szRoot')
WHEN  (8) ('szRoot')
WHEN  (9) ('szRoot')
WHEN  (10) ('szRoot')

%TTText DEPEND %ToolTipControls DEFAULT TIMES 1
WHEN  (9) ('Text View')

%ControlGetsFocus DEPEND %ToolTipControls LONG TIMES 10
WHEN  (1) (1)
WHEN  (2) (1)
WHEN  (3) (1)
WHEN  (4) (1)
WHEN  (5) (1)
WHEN  (6) (1)
WHEN  (7) (1)
WHEN  (8) (1)
WHEN  (9) (1)
WHEN  (10) (1)

%ToolTipFeq DEPEND %ToolTipControls DEFAULT TIMES 10
WHEN  (1) ('?MoveTopButton')
WHEN  (2) ('?MovePageUpButton')
WHEN  (3) ('?MovePageDownButton')
WHEN  (4) ('?MoveBottomButton')
WHEN  (5) ('?GoToButton')
WHEN  (6) ('?FindButton')
WHEN  (7) ('?PrintButton')
WHEN  (8) ('?EditButton')
WHEN  (9) ('?ListTextModeButton')
WHEN  (10) ('?CloseButton')

%DontApply LONG  (0)
%ApplyAsRegularTip LONG  (0)
%ToolTipTextColour LONG  (0)
%SetDelayTime LONG  (0)
%AutopopDelay DEFAULT  ('5000')
%InitialDelay DEFAULT  ('2000')
%ReshowDelay DEFAULT  ('100')
%SetBackgroundColour LONG  (0)
%ToolTipBkColour LONG  (12648447)
[ADDITION]
NAME ClassViewer OptionalToolTips
[INSTANCE]
INSTANCE 7
PARENT 4
[PROMPTS]
%TplName DEFAULT  ('OptionalToolTips (ABC)')
%TplDescription DEFAULT  ('Optional ToolTips Extension')
%ConditionalGlobalVariable DEFAULT  ('glo:bShowTips')
%ToolTipDelayTime DEFAULT  ('1000')
[ADDITION]
NAME ABC WindowResize
[FIELDPROMPT]
%ResizeAnchorTop DEPEND %Control LONG TIMES 0

%ResizeAnchorLeft DEPEND %Control LONG TIMES 0

%ResizeAnchorRight DEPEND %Control LONG TIMES 0

%ResizeAnchorBottom DEPEND %Control LONG TIMES 0

%ResizeAnchorGrowTop DEPEND %Control LONG TIMES 0

%ResizeAnchorGrowLeft DEPEND %Control LONG TIMES 0

%ResizeAnchorGrowRight DEPEND %Control LONG TIMES 0

%ResizeAnchorGrowBottom DEPEND %Control LONG TIMES 0

[INSTANCE]
INSTANCE 3
[PROMPTS]
%ClassItem UNIQUE DEFAULT  ('Default')
%DefaultBaseClassType DEPEND %ClassItem DEFAULT TIMES 1
WHEN  ('Default') ('WindowResizeClass')

%ActualDefaultBaseClassType DEPEND %ClassItem DEFAULT TIMES 1
WHEN  ('Default') ('')

%ClassLines DEPEND %ClassItem MULTI DEFAULT TIMES 1
WHEN  ('Default') ('Init {19}PROCEDURE(BYTE AppStrategy=AppStrategy:Resize,BYTE SetWindowMinSize=False,BYTE SetWindowMaxSize=False)')

%AppStrategy DEFAULT  ('Spread')
%RestrictMinSize LONG  (1)
%WindowMinWidth DEFAULT  ('')
%WindowMinHeight DEFAULT  ('')
%RestrictMaxSize LONG  (0)
%WindowMaxWidth DEFAULT  ('')
%WindowMaxHeight DEFAULT  ('')
%OverrideControls MULTI LONG  (1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13)
%OverrideControl DEPEND %OverrideControls DEFAULT TIMES 13
WHEN  (1) ('?AsciiBox')
WHEN  (2) ('?TextField')
WHEN  (3) ('?MoveTopButton')
WHEN  (4) ('?MovePageUpButton')
WHEN  (5) ('?MovePageDownButton')
WHEN  (6) ('?MoveBottomButton')
WHEN  (7) ('?GoToButton')
WHEN  (8) ('?FindButton')
WHEN  (9) ('?PrintButton')
WHEN  (10) ('?EditButton')
WHEN  (11) ('?ListTextModeButton')
WHEN  (12) ('?CloseButton')
WHEN  (13) ('?Image1')

%DisableResize DEPEND %OverrideControls LONG TIMES 13
WHEN  (1) (0)
WHEN  (2) (0)
WHEN  (3) (0)
WHEN  (4) (0)
WHEN  (5) (0)
WHEN  (6) (0)
WHEN  (7) (0)
WHEN  (8) (0)
WHEN  (9) (0)
WHEN  (10) (0)
WHEN  (11) (0)
WHEN  (12) (0)
WHEN  (13) (1)

%HorizResize DEPEND %OverrideControls DEFAULT TIMES 13
WHEN  (1) ('Constant Right Border')
WHEN  (2) ('Constant Right Border')
WHEN  (3) ('Lock Width')
WHEN  (4) ('Lock Width')
WHEN  (5) ('Lock Width')
WHEN  (6) ('Lock Width')
WHEN  (7) ('Lock Width')
WHEN  (8) ('Lock Width')
WHEN  (9) ('Lock Width')
WHEN  (10) ('Lock Width')
WHEN  (11) ('Lock Width')
WHEN  (12) ('Lock Width')
WHEN  (13) ('Resize')

%VertResize DEPEND %OverrideControls DEFAULT TIMES 13
WHEN  (1) ('Constant Bottom Border')
WHEN  (2) ('Constant Bottom Border')
WHEN  (3) ('Lock Height')
WHEN  (4) ('Lock Height')
WHEN  (5) ('Lock Height')
WHEN  (6) ('Lock Height')
WHEN  (7) ('Lock Height')
WHEN  (8) ('Lock Height')
WHEN  (9) ('Lock Height')
WHEN  (10) ('Lock Height')
WHEN  (11) ('Lock Height')
WHEN  (12) ('Lock Height')
WHEN  (13) ('Resize')

%HorizPositional DEPEND %OverrideControls DEFAULT TIMES 13
WHEN  (1) ('Fix Left')
WHEN  (2) ('Fix Left')
WHEN  (3) ('Fix Left')
WHEN  (4) ('Fix Left')
WHEN  (5) ('Fix Left')
WHEN  (6) ('Fix Left')
WHEN  (7) ('Fix Left')
WHEN  (8) ('Fix Left')
WHEN  (9) ('Fix Left')
WHEN  (10) ('Fix Left')
WHEN  (11) ('Fix Left')
WHEN  (12) ('Fix Right')
WHEN  (13) ('Move')

%VertPositional DEPEND %OverrideControls DEFAULT TIMES 13
WHEN  (1) ('Fix Top')
WHEN  (2) ('Fix Top')
WHEN  (3) ('Fix Bottom')
WHEN  (4) ('Fix Bottom')
WHEN  (5) ('Fix Bottom')
WHEN  (6) ('Fix Bottom')
WHEN  (7) ('Fix Bottom')
WHEN  (8) ('Fix Bottom')
WHEN  (9) ('Fix Bottom')
WHEN  (10) ('Fix Bottom')
WHEN  (11) ('Fix Bottom')
WHEN  (12) ('Fix Bottom')
WHEN  (13) ('Move')

%AutoFindParents DEFAULT  ('Default')
%DeferMoves DEFAULT  ('Default')
%GlobalObject DEPEND %ClassItem DEFAULT TIMES 1
WHEN  ('Default') ('NO')

%ThisObjectName DEPEND %ClassItem DEFAULT TIMES 1
WHEN  ('Default') ('Resizer')

%UseDefaultABCBaseClass DEPEND %ClassItem LONG TIMES 1
WHEN  ('Default') (1)

%UseABCBaseClass DEPEND %ClassItem LONG TIMES 1
WHEN  ('Default') (1)

%ABCBaseClass DEPEND %ClassItem DEFAULT TIMES 1
WHEN  ('Default') ('ADOProcCommCalled')

%ExtBaseClass DEPEND %ClassItem DEFAULT TIMES 0

%BaseClassIncludeFile DEPEND %ClassItem DEFAULT TIMES 0

%DeriveFromBaseClass DEPEND %ClassItem LONG TIMES 1
WHEN  ('Default') (0)

%NewMethods DEPEND %ClassItem MULTI LONG TIMES 0

%NewMethodName DEPEND %NewMethods DEFAULT TIMES 0

%NewMethodPrototype DEPEND %NewMethods DEFAULT TIMES 0

%NewClassPropertyItems DEPEND %ClassItem MULTI LONG TIMES 0

%NewClassProperty DEPEND %NewClassPropertyItems DEFAULT TIMES 0

%NewClassDataType DEPEND %NewClassPropertyItems DEFAULT TIMES 1
WHEN  ('Default')TIMES 0

%NewClassOtherType DEPEND %NewClassPropertyItems DEFAULT TIMES 0

%NewClassDataIsRef DEPEND %NewClassPropertyItems LONG TIMES 0

%NewClassDataSize DEPEND %NewClassPropertyItems DEFAULT TIMES 0

%NewClassDataDim1 DEPEND %NewClassPropertyItems DEFAULT TIMES 0

%NewClassDataDim2 DEPEND %NewClassPropertyItems DEFAULT TIMES 0

%NewClassDataDim3 DEPEND %NewClassPropertyItems DEFAULT TIMES 0

%NewClassDataDim4 DEPEND %NewClassPropertyItems DEFAULT TIMES 0

%ClassMethods DEPEND %ClassItem MULTI LONG TIMES 0

%ClassMethodName DEPEND %ClassMethods DEFAULT TIMES 0

%ClassMethodPrototype DEPEND %ClassMethods DEFAULT TIMES 0

%ClassPropertyItems DEPEND %ClassItem MULTI LONG TIMES 0

%ClassProperty DEPEND %ClassPropertyItems DEFAULT TIMES 0

%ClassDataType DEPEND %ClassPropertyItems DEFAULT TIMES 1
WHEN  ('Default')TIMES 0

%ClassOtherType DEPEND %ClassPropertyItems DEFAULT TIMES 0

%ClassDataIsRef DEPEND %ClassPropertyItems LONG TIMES 0

%ClassDataSize DEPEND %ClassPropertyItems DEFAULT TIMES 0

%ClassDataDim1 DEPEND %ClassPropertyItems DEFAULT TIMES 0

%ClassDataDim2 DEPEND %ClassPropertyItems DEFAULT TIMES 0

%ClassDataDim3 DEPEND %ClassPropertyItems DEFAULT TIMES 0

%ClassDataDim4 DEPEND %ClassPropertyItems DEFAULT TIMES 0

[ADDITION]
NAME KCR KCR_SetWindowHelp
[INSTANCE]
INSTANCE 5
OWNER 4
[PROMPTS]
%TplName DEFAULT  ('KCR_SetWindowHelp (Devuna)')
%TplDescription DEFAULT  ('Set Window Help Property')
[WINDOW]
Window  WINDOW('View text file'),AT(,,298,212),FONT('Microsoft Sans Serif',10,,FONT:regular, |
          CHARSET:DEFAULT),RESIZE,TILED,ALRT(AltF3),ALRT(F3Key),ALRT(ShiftF3),ALRT(CtrlG), |
          ALRT(CtrlP),ALRT(CtrlE),ALRT(CtrlT),ALRT(CtrlL),ALRT(CtrlF),ALRT(CtrlF3),ALRT(CtrlShiftF3), |
          CENTER,ICON('data16.ico'),GRAY,IMM,MAX,PALETTE(256),SYSTEM,WALLPAPER('WALLPAPER.GIF')
          LIST,AT(4,4,290,185),USE(?AsciiBox),FONT('Courier New',9,,FONT:bold,CHARSET:ANSI), |
            COLOR(COLOR:White),#ORDINAL(1)
          TEXT,AT(6,6,290,185),USE(TextField),FONT('Courier New',9,,FONT:bold,CHARSET:ANSI), |
            LEFT,HSCROLL,BOXED,COLOR(COLOR:White),HIDE,#ORIG(TextField),#ORDINAL(2)
          BUTTON,AT(4,194,14,14),USE(?MoveTopButton),ICON('vcrfirst.ico'),TIP('Move To First Line'), |
            #ORIG(?Button5),#ORDINAL(3)
          BUTTON,AT(20,194,14,14),USE(?MovePageUpButton),ICON('vcrprior.ico'),TIP('Page Up'), |
            #ORIG(?Button6),#ORDINAL(4)
          BUTTON,AT(36,194,14,14),USE(?MovePageDownButton),ICON('vcrnext.ico'),TIP('Page Down'), |
            #ORIG(?Button7),#ORDINAL(5)
          BUTTON,AT(52,194,14,14),USE(?MoveBottomButton),ICON('vcrlast.ico'),TIP('Move to Last Line'), |
            #ORIG(?Button8),#ORDINAL(6)
          BUTTON,AT(72,194,14,14),USE(?GoToButton),ICON('GoToLine.ico'),TIP('Go to Line'), |
            #ORIG(?Button9),#ORDINAL(7)
          BUTTON,AT(88,194,14,14),USE(?FindButton),ICON('find.ico'),TIP('Find'),#ORIG(?Button2), |
            #ORDINAL(8)
          BUTTON,AT(108,194,14,14),USE(?PrintButton),ICON('print.ico'),TIP('Print'),#ORIG(?Button3), |
            #ORDINAL(9)
          BUTTON,AT(128,194,14,14),USE(?EditButton),ICON('edit.ico'),TIP('Edit'),#ORIG(?Button4), |
            #ORDINAL(10)
          BUTTON,AT(148,194,14,14),USE(?ListTextModeButton),ICON('text.ico'),TIP('Text View'), |
            #ORIG(?Button10),#ORDINAL(11)
          BUTTON('Cl&ose'),AT(249,194,45,14),USE(?CloseButton),TIP('Close File Viewer window.'), |
            #ORDINAL(12)
          IMAGE('list.ico'),AT(163,194,14,14),USE(?Image1),CENTERED,HIDE,#ORIG(?Image1),#ORDINAL(13)
        END

[PROCEDURE]
NAME srcViewAsciiFile
PROTOTYPE '(LONG lModuleId, *? pWhat, *THREADQTYPE pThreadQ)'
PARAMETERS '(lModuleId, pWhat,pThreadQ)'
[COMMON]
FROM ABC Source
MODIFIED '2013/01/10' '12:41:49'
[PROMPTS]
%GenerateOpenClose LONG  (0)
%GenerateSaveRestore LONG  (0)
[EMBED]
EMBED %ProcessedCode
[DEFINITION]
[SOURCE]
PROPERTY:BEGIN
PRIORITY 5000
PROPERTY:END
  IF lModuleId
     SORT(ModuleQ,+ModuleQ.lModuleId)
     ModuleQ.lModuleId = lModuleId
     GET(ModuleQ,+ModuleQ.lModuleId)
    ASSERT(~ERRORCODE())
     CASE glo:bForceEdit
     OF 0
        OMIT('***',_Scintilla_)
        winViewAsciiFile(ModuleQ.szModulePath & ModuleQ.szModuleName, pWhat)
        !***
        COMPILE('***',_Scintilla_)
        winSciViewAsciiFile(ModuleQ.szModulePath & ModuleQ.szModuleName, pWhat)
        ! szWhat = pWhat
        ! start(winSciViewAsciiFile,25000,ModuleQ.szModulePath & ModuleQ.szModuleName, szWhat)
        !***
     OF 1
        sFileName = ModuleQ.szModulePath & ModuleQ.szModuleName
        IF glo:bUseAssociation
           szNull = ''
           ShellExecute(0{prop:handle},0,sFileName,0,szNull,1)
        ELSE
           IF NUMERIC(pWhat)
              lSearchLine = pWhat
           END
           szCommandline = 'Notepad.exe ' & CLIP(sFilename)
           IF glo:szEditorCommand
              szCommandLine = glo:szEditorCommand
              I = INSTRING('.EXE ',UPPER(szCommandLine),1)
              IF I
                 szCommandLine = SHORTPATH(szCommandLine[1 : I+3]) & szCommandLine[I+4 : LEN(szCommandLine)]
              END
              !look for filename parameter token
              I = INSTRING('%1',szCommandLine,1)
              IF I
                 szCommandLine = SUB(szCommandLine,1,I-1) & |
                                 CLIP(sFilename) & |
                                 SUB(szCommandLine,I+2,LEN(szCommandLine)-(I+1))
              END
              !look for line number parameter token
              I = INSTRING('%2',szCommandLine,1)
              IF I
                 szCommandLine = SUB(szCommandLine,1,I-1) & |
                                 lSearchLine & |
                                 SUB(szCommandLine,I+2,LEN(szCommandLine)-(I+1))
              END
           END
           RUN(szCommandLine)
           IF RUNCODE() = -4   !Failed to execute
             CASE MESSAGE('An error occurred trying to execute the following command:||' & szCommandLine & |
                     '||Do you want to use Notepad?',ERROR(),ICON:EXCLAMATION, |
                     BUTTON:YES+BUTTON:NO,BUTTON:YES)
             OF BUTTON:YES
                RUN('Notepad.exe ' & CLIP(sFilename))
             END
           END
        END
     ELSE
     END
  END
  RETURN
[END]
EMBED %DataSection
[DEFINITION]
[SOURCE]
PROPERTY:BEGIN
PRIORITY 50
PROPERTY:END
!region Notices
! ================================================================================
! Notice : Copyright (C) 2017, Devuna
!          Distributed under LGPLv3 (http://www.gnu.org/licenses/lgpl.html)
!
!    This file is part of Devuna-ClassViewer (https://github.com/Devuna/Devuna-ClassViewer)
!
!    Devuna-ClassViewer is free software: you can redistribute it and/or modify
!    it under the terms of the GNU General Public License as published by
!    the Free Software Foundation, either version 3 of the License, or
!    (at your option) any later version.
!
!    Devuna-ClassViewer is distributed in the hope that it will be useful,
!    but WITHOUT ANY WARRANTY; without even the implied warranty of
!    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
!    GNU General Public License for more details.
!
!    You should have received a copy of the GNU General Public License
!    along with Devuna-ClassViewer.  If not, see <http://www.gnu.org/licenses/>.
! ================================================================================
!endregion Notices
[SOURCE]
PROPERTY:BEGIN
PRIORITY 3500
PROPERTY:END
sFilename       CSTRING(256)
szCommandLine   CSTRING(256)
lSearchLine     LONG
I               LONG
J               LONG
szNull          CSTRING(2)
szWhat          STRING(10)
[END]
[END]
[ADDITION]
NAME ABC cwHHProc
[INSTANCE]
INSTANCE 2
OWNER 5
[PROMPTS]
%cwHHFileName DEFAULT  ('')
%cwHHContextURL DEFAULT  ('')
%cwHHAltTrapKey DEFAULT  ('')
[ADDITION]
NAME KCR KCR_SetWindowHelp
[INSTANCE]
INSTANCE 1
OWNER 4
[PROMPTS]
%TplName DEFAULT  ('KCR_SetWindowHelp (Devuna)')
%TplDescription DEFAULT  ('Set Window Help Property')
[CALLS]
winSciViewAsciiFile
winViewAsciiFile
[PROCEDURE]
NAME winSciViewAsciiFile
PROTOTYPE '(STRING sFileName, LONG LineNo)'
PARAMETERS '(STRING sFileName, LONG LineNo)'
[COMMON]
DESCRIPTION 'Scintilla Ascii File Viewer'
FROM ABC Window
MODIFIED '2017/07/02' ' 9:15:26'
[DATA]
[SCREENCONTROLS]
! PROMPT('Files Opened:'),USE(?FilesOpened:Prompt)
! ENTRY(@n3),USE(FilesOpened)
[REPORTCONTROLS]
! STRING(@n3),USE(FilesOpened)
FilesOpened              BYTE
!!> GUID('1c82b8e7-ece7-41eb-a958-fcd90605451e'),PROMPT('Files Opened:'),HEADER('Files Opened'),PICTURE(@n3)
[SCREENCONTROLS]
! ENTRY(@n-14),USE(I)
[REPORTCONTROLS]
! STRING(@n-14),USE(I)
I                        LONG
!!> GUID('0238b713-9880-48d2-ad00-e9156ce5bd88'),PICTURE(@n-14)
[SCREENCONTROLS]
! ENTRY(@n-14),USE(J)
[REPORTCONTROLS]
! STRING(@n-14),USE(J)
J                        LONG
!!> GUID('8963052e-bd79-4e07-bd2b-c4bea817d8fb'),PICTURE(@n-14)
[SCREENCONTROLS]
! PROMPT('K:'),USE(?K:Prompt)
! ENTRY(@n-14),USE(K),RIGHT(1)
[REPORTCONTROLS]
! STRING(@n-14),USE(K),RIGHT(1)
K                        LONG
!!> GUID('ab06b22c-24e9-4ba5-97d7-fdb4568a9a7b'),PROMPT('K:'),HEADER('K'),PICTURE(@n-14),JUSTIFY(RIGHT,1)
[SCREENCONTROLS]
! ENTRY(@s20),USE(bControlInitialised)
[REPORTCONTROLS]
! STRING(@s20),USE(bControlInitialised)
bControlInitialised      BOOL
!!> GUID('d3b1c661-0388-43e7-a2c5-7d596d8e2515'),PICTURE(@s20)
[SCREENCONTROLS]
! TEXT,USE(loc:szViewerStyle)
[REPORTCONTROLS]
! TEXT,USE(loc:szViewerStyle)
loc:szViewerStyle        CSTRING(256)
!!> GUID('e91a6ac6-5b93-464f-ad52-128d3f84d019'),PICTURE(@s255)
[SCREENCONTROLS]
! ENTRY(@s20),USE(ViewerActive)
[REPORTCONTROLS]
! STRING(@s20),USE(ViewerActive)
ViewerActive             BOOL
!!> GUID('2115047f-8d7e-47be-bc04-5b629b5efbb7'),PICTURE(@s20)
[PROMPTS]
%ClassItem UNIQUE DEFAULT  ('Default', 'WindowToolbar')
%DefaultBaseClassType DEPEND %ClassItem DEFAULT TIMES 2
WHEN  ('Default') ('WindowManager')
WHEN  ('WindowToolbar') ('ToolbarClass')

%ActualDefaultBaseClassType DEPEND %ClassItem DEFAULT TIMES 2
WHEN  ('Default') ('')
WHEN  ('WindowToolbar') ('')

%ClassLines DEPEND %ClassItem MULTI DEFAULT TIMES 1
WHEN  ('Default') ('Init {19}PROCEDURE(),BYTE,PROC,DERIVED', 'Kill {19}PROCEDURE(),BYTE,PROC,DERIVED', |
  'Open {19}PROCEDURE(),DERIVED', 'TakeAccepted {11}PROCEDURE(),BYTE,PROC,DERIVED', |
  'TakeEvent {14}PROCEDURE(),BYTE,PROC,DERIVED', 'TakeFieldEvent {9}PROCEDURE(),BYTE,PROC,DERIVED', |
  'TakeWindowEvent        PROCEDURE(),BYTE,PROC,DERIVED')

%ReturnValue FIELD  ()
%WindowOperationMode DEFAULT  ('Use WINDOW setting')
%INISaveWindow LONG  (0)
%ThisObjectName DEPEND %ClassItem DEFAULT TIMES 2
WHEN  ('Default') ('ThisWindow')
WHEN  ('WindowToolbar') ('Toolbar')

%UseDefaultABCBaseClass DEPEND %ClassItem LONG TIMES 2
WHEN  ('Default') (1)
WHEN  ('WindowToolbar') (1)

%UseABCBaseClass DEPEND %ClassItem LONG TIMES 2
WHEN  ('Default') (1)
WHEN  ('WindowToolbar') (1)

%ABCBaseClass DEPEND %ClassItem DEFAULT TIMES 2
WHEN  ('Default') ('AsciiFileClass')
WHEN  ('WindowToolbar') ('AsciiFileClass')

%ExtBaseClass DEPEND %ClassItem DEFAULT TIMES 0

%BaseClassIncludeFile DEPEND %ClassItem DEFAULT TIMES 0

%DeriveFromBaseClass DEPEND %ClassItem LONG TIMES 2
WHEN  ('Default') (0)
WHEN  ('WindowToolbar') (0)

%NewMethods DEPEND %ClassItem MULTI LONG TIMES 0

%NewMethodName DEPEND %NewMethods DEFAULT TIMES 0

%NewMethodPrototype DEPEND %NewMethods DEFAULT TIMES 0

%NewClassPropertyItems DEPEND %ClassItem MULTI LONG TIMES 0

%NewClassProperty DEPEND %NewClassPropertyItems DEFAULT TIMES 0

%NewClassDataType DEPEND %NewClassPropertyItems DEFAULT TIMES 2
WHEN  ('Default')TIMES 0
WHEN  ('WindowToolbar')TIMES 0

%NewClassOtherType DEPEND %NewClassPropertyItems DEFAULT TIMES 0

%NewClassDataIsRef DEPEND %NewClassPropertyItems LONG TIMES 0

%NewClassDataSize DEPEND %NewClassPropertyItems DEFAULT TIMES 0

%NewClassDataDim1 DEPEND %NewClassPropertyItems DEFAULT TIMES 0

%NewClassDataDim2 DEPEND %NewClassPropertyItems DEFAULT TIMES 0

%NewClassDataDim3 DEPEND %NewClassPropertyItems DEFAULT TIMES 0

%NewClassDataDim4 DEPEND %NewClassPropertyItems DEFAULT TIMES 0

%ClassMethods DEPEND %ClassItem MULTI LONG TIMES 0

%ClassMethodName DEPEND %ClassMethods DEFAULT TIMES 0

%ClassMethodPrototype DEPEND %ClassMethods DEFAULT TIMES 0

%ClassPropertyItems DEPEND %ClassItem MULTI LONG TIMES 0

%ClassProperty DEPEND %ClassPropertyItems DEFAULT TIMES 0

%ClassDataType DEPEND %ClassPropertyItems DEFAULT TIMES 2
WHEN  ('Default')TIMES 0
WHEN  ('WindowToolbar')TIMES 0

%ClassOtherType DEPEND %ClassPropertyItems DEFAULT TIMES 0

%ClassDataIsRef DEPEND %ClassPropertyItems LONG TIMES 0

%ClassDataSize DEPEND %ClassPropertyItems DEFAULT TIMES 0

%ClassDataDim1 DEPEND %ClassPropertyItems DEFAULT TIMES 0

%ClassDataDim2 DEPEND %ClassPropertyItems DEFAULT TIMES 0

%ClassDataDim3 DEPEND %ClassPropertyItems DEFAULT TIMES 0

%ClassDataDim4 DEPEND %ClassPropertyItems DEFAULT TIMES 0

%ButtonAction DEPEND %Control DEFAULT TIMES 13
WHEN  ('') ('No Special Action')
WHEN  ('?CloseButton') ('No Special Action')
WHEN  ('?EditButton') ('No Special Action')
WHEN  ('?FindButton') ('No Special Action')
WHEN  ('?GoToButton') ('No Special Action')
WHEN  ('?LineDownButton') ('No Special Action')
WHEN  ('?LineUpButton') ('No Special Action')
WHEN  ('?MoveBottomButton') ('No Special Action')
WHEN  ('?MovePageDownButton') ('No Special Action')
WHEN  ('?MovePageUpButton') ('No Special Action')
WHEN  ('?MoveTopButton') ('No Special Action')
WHEN  ('?PrintButton') ('No Special Action')
WHEN  ('?sciControl:Region') ('No Special Action')

%ButtonRunName DEPEND %Control DEFAULT TIMES 4
WHEN  ('?CloseButton') ('')
WHEN  ('?GoToButton') ('')
WHEN  ('?MovePageUpButton') ('')
WHEN  ('?MoveTopButton') ('')

%ButtonRunParameters DEPEND %Control DEFAULT TIMES 4
WHEN  ('?CloseButton') ('')
WHEN  ('?GoToButton') ('')
WHEN  ('?MovePageUpButton') ('')
WHEN  ('?MoveTopButton') ('')

%ButtonProcedure DEPEND %Control PROCEDURE TIMES 4
WHEN  ('?CloseButton') ()
WHEN  ('?GoToButton') ()
WHEN  ('?MovePageUpButton') ()
WHEN  ('?MoveTopButton') ()

%ButtonThread DEPEND %Control LONG TIMES 4
WHEN  ('?CloseButton') (0)
WHEN  ('?GoToButton') (0)
WHEN  ('?MovePageUpButton') (0)
WHEN  ('?MoveTopButton') (0)

%ButtonThreadStack DEPEND %Control DEFAULT TIMES 13
WHEN  ('') ('25000')
WHEN  ('?CloseButton') ('25000')
WHEN  ('?EditButton') ('25000')
WHEN  ('?FindButton') ('25000')
WHEN  ('?GoToButton') ('25000')
WHEN  ('?LineDownButton') ('25000')
WHEN  ('?LineUpButton') ('25000')
WHEN  ('?MoveBottomButton') ('25000')
WHEN  ('?MovePageDownButton') ('25000')
WHEN  ('?MovePageUpButton') ('25000')
WHEN  ('?MoveTopButton') ('25000')
WHEN  ('?PrintButton') ('25000')
WHEN  ('?sciControl:Region') ('25000')

%ButtonParameters DEPEND %Control DEFAULT TIMES 4
WHEN  ('?CloseButton') ('')
WHEN  ('?GoToButton') ('')
WHEN  ('?MovePageUpButton') ('')
WHEN  ('?MoveTopButton') ('')

%ButtonReturnValueAssignment DEPEND %Control FIELD TIMES 4
WHEN  ('?CloseButton') ()
WHEN  ('?GoToButton') ()
WHEN  ('?MovePageUpButton') ()
WHEN  ('?MoveTopButton') ()

%ButtonReturnValueReferenceAssign DEPEND %Control LONG TIMES 4
WHEN  ('?CloseButton') (0)
WHEN  ('?GoToButton') (0)
WHEN  ('?MovePageUpButton') (0)
WHEN  ('?MoveTopButton') (0)

%ButtonRequest DEPEND %Control DEFAULT TIMES 13
WHEN  ('') ('None')
WHEN  ('?CloseButton') ('None')
WHEN  ('?EditButton') ('None')
WHEN  ('?FindButton') ('None')
WHEN  ('?GoToButton') ('None')
WHEN  ('?LineDownButton') ('None')
WHEN  ('?LineUpButton') ('None')
WHEN  ('?MoveBottomButton') ('None')
WHEN  ('?MovePageDownButton') ('None')
WHEN  ('?MovePageUpButton') ('None')
WHEN  ('?MoveTopButton') ('None')
WHEN  ('?PrintButton') ('None')
WHEN  ('?sciControl:Region') ('None')

%ButtonThreadParameters DEPEND %Control DEFAULT TIMES 4
WHEN  ('?CloseButton') ('')
WHEN  ('?GoToButton') ('')
WHEN  ('?MovePageUpButton') ('')
WHEN  ('?MoveTopButton') ('')

%ButtonThreadReturnValueAssignment DEPEND %Control FIELD TIMES 4
WHEN  ('?CloseButton') ()
WHEN  ('?GoToButton') ()
WHEN  ('?MovePageUpButton') ()
WHEN  ('?MoveTopButton') ()

%PreLookupKey DEPEND %Control KEY TIMES 0

%PreLookupField DEPEND %Control COMPONENT TIMES 0

%PreLookupProcedure DEPEND %Control PROCEDURE TIMES 0

%PostLookupKey DEPEND %Control KEY TIMES 0

%PostLookupField DEPEND %Control COMPONENT TIMES 0

%PostLookupProcedure DEPEND %Control PROCEDURE TIMES 0

%PostLookupDuringValidate DEPEND %Control LONG TIMES 6
WHEN  ('') (1)
WHEN  ('?CloseButton') (1)
WHEN  ('?GoToButton') (1)
WHEN  ('?MovePageUpButton') (1)
WHEN  ('?MoveTopButton') (1)
WHEN  ('?sciControl:Region') (1)

%ForceWindowRefresh DEPEND %Control LONG TIMES 0

%LookupAssign DEPEND %Control MULTI LONG TIMES 0

%MoreField DEPEND %LookupAssign DEFAULT TIMES 0

%MoreTarget DEPEND %LookupAssign FIELD TIMES 0

%CheckedAssigns DEPEND %Control MULTI LONG TIMES 0

%CheckedAssignVariable DEPEND %CheckedAssigns FIELD TIMES 0

%CheckedAssignValue DEPEND %CheckedAssigns DEFAULT TIMES 0

%CheckedHides DEPEND %Control MULTI LONG TIMES 0

%CheckedControl DEPEND %CheckedHides DEFAULT TIMES 0

%CheckedControlAction DEPEND %CheckedHides DEFAULT TIMES 6
WHEN  ('')TIMES 0
WHEN  ('?CloseButton')TIMES 0
WHEN  ('?GoToButton')TIMES 0
WHEN  ('?MovePageUpButton')TIMES 0
WHEN  ('?MoveTopButton')TIMES 0
WHEN  ('?sciControl:Region')TIMES 0

%CheckedEnables DEPEND %Control MULTI LONG TIMES 0

%CheckedControl1 DEPEND %CheckedEnables DEFAULT TIMES 0

%CheckedControl1Action DEPEND %CheckedEnables DEFAULT TIMES 6
WHEN  ('')TIMES 0
WHEN  ('?CloseButton')TIMES 0
WHEN  ('?GoToButton')TIMES 0
WHEN  ('?MovePageUpButton')TIMES 0
WHEN  ('?MoveTopButton')TIMES 0
WHEN  ('?sciControl:Region')TIMES 0

%UncheckedAssigns DEPEND %Control MULTI LONG TIMES 0

%UncheckedAssignVariable DEPEND %UncheckedAssigns FIELD TIMES 0

%UncheckedAssignValue DEPEND %UncheckedAssigns DEFAULT TIMES 0

%UnCheckedHides DEPEND %Control MULTI LONG TIMES 0

%UnCheckedControl DEPEND %UnCheckedHides DEFAULT TIMES 0

%UnCheckedControlAction DEPEND %UnCheckedHides DEFAULT TIMES 6
WHEN  ('')TIMES 0
WHEN  ('?CloseButton')TIMES 0
WHEN  ('?GoToButton')TIMES 0
WHEN  ('?MovePageUpButton')TIMES 0
WHEN  ('?MoveTopButton')TIMES 0
WHEN  ('?sciControl:Region')TIMES 0

%UnCheckedEnables DEPEND %Control MULTI LONG TIMES 0

%UnCheckedControl1 DEPEND %UnCheckedEnables DEFAULT TIMES 0

%UnCheckedControl1Action DEPEND %UnCheckedEnables DEFAULT TIMES 6
WHEN  ('')TIMES 0
WHEN  ('?CloseButton')TIMES 0
WHEN  ('?GoToButton')TIMES 0
WHEN  ('?MovePageUpButton')TIMES 0
WHEN  ('?MoveTopButton')TIMES 0
WHEN  ('?sciControl:Region')TIMES 0

%GlobalObject DEPEND %ClassItem DEFAULT TIMES 2
WHEN  ('Default') ('NO')
WHEN  ('WindowToolbar') ('NO')

%ProcedureDisableEnhanceFocus LONG  (0)
%ProcedureUseEnterInsteadTabOverride LONG  (0)
%WindowUseEnterInsteadTab LONG  (1)
%ProcedureUseEnterInsteadTabExcludeG LONG  (1)
%WindowUseEnterInsteadTabExclude MULTI DEFAULT  ()
%WindowStyles MULTI LONG  ()
%WindowStyleFontName DEPEND %WindowStyles DEFAULT TIMES 0

%WindowStyleFontSize DEPEND %WindowStyles DEFAULT TIMES 0

%WindowStyleFontStyle DEPEND %WindowStyles DEFAULT TIMES 0

%WindowStyleFontColor DEPEND %WindowStyles DEFAULT TIMES 0

%WindowStyleFontCharSet DEPEND %WindowStyles DEFAULT TIMES 0

%WindowStyleForegroundNormal DEPEND %WindowStyles LONG TIMES 0

%WindowStyleBackgroundNormal DEPEND %WindowStyles LONG TIMES 0

%WindowStyleForegroundSelected DEPEND %WindowStyles LONG TIMES 0

%WindowStyleBackgroundSelected DEPEND %WindowStyles LONG TIMES 0

%WindowStylePicture DEPEND %WindowStyles DEFAULT TIMES 0

%WindowStyleOtherListboxes MULTI DEFAULT  ()
%ProcedureAutoBindFields MULTI LONG  ()
%ProcedureAutoBindField DEPEND %ProcedureAutoBindFields DEFAULT TIMES 0

%ProcedureAutoBindFieldTPL DEPEND %ProcedureAutoBindFields DEFAULT TIMES 0

%ProcedureAutoBindProcedures MULTI LONG  ()
%ProcedureAutoBindProcedure DEPEND %ProcedureAutoBindProcedures DEFAULT TIMES 0

%ProcedureAutoBindProcedureTPL DEPEND %ProcedureAutoBindProcedures DEFAULT TIMES 0

%ProcedureUserBindFields MULTI LONG  ()
%ProcedureUserBindField DEPEND %ProcedureUserBindFields FIELD TIMES 0

%ProcedureAutoBindFieldIgnore DEPEND %ProcedureAutoBindFields LONG TIMES 0

%ProcedureUserBindProcedures MULTI LONG  ()
%ProcedureUserBindProcedure DEPEND %ProcedureUserBindProcedures PROCEDURE TIMES 0

%ProcedureAutoBindProcedureIgnore DEPEND %ProcedureAutoBindProcedures LONG TIMES 0

%ProcedureUserBindExpressions MULTI LONG  ()
%ProcedureUserBindExpressionName DEPEND %ProcedureUserBindExpressions DEFAULT TIMES 0

%ProcedureUserBindExpression DEPEND %ProcedureUserBindExpressions DEFAULT TIMES 0

%PreLookupProcedureParameters DEPEND %Control DEFAULT TIMES 0

%PostLookupProcedureParameters DEPEND %Control DEFAULT TIMES 0

%WindowStyleFontNameVariable DEPEND %WindowStyles DEFAULT TIMES 0

%WindowStyleFontNameIsVariable DEPEND %WindowStyles LONG TIMES 0

%WindowStyleFontSizeVariable DEPEND %WindowStyles DEFAULT TIMES 0

%WindowStyleFontSizeIsVariable DEPEND %WindowStyles LONG TIMES 0

%WindowStyleFontStyleVariable DEPEND %WindowStyles DEFAULT TIMES 0

%WindowStyleFontStyleIsVariable DEPEND %WindowStyles LONG TIMES 0

%WindowStyleForegroundNormalVariable DEPEND %WindowStyles DEFAULT TIMES 0

%WindowStyleForegroundNormalIsVariable DEPEND %WindowStyles LONG TIMES 0

%WindowStyleBackgroundNormalVariable DEPEND %WindowStyles DEFAULT TIMES 0

%WindowStyleBackgroundNormalIsVariable DEPEND %WindowStyles LONG TIMES 0

%WindowStyleForegroundSelectedVariable DEPEND %WindowStyles DEFAULT TIMES 0

%WindowStyleForegroundSelectedIsVariable DEPEND %WindowStyles LONG TIMES 0

%WindowStyleBackgroundSelectedVariable DEPEND %WindowStyles DEFAULT TIMES 0

%WindowStyleBackgroundSelectedIsVariable DEPEND %WindowStyles LONG TIMES 0

%WindowStylePictureVariable DEPEND %WindowStyles DEFAULT TIMES 0

%WindowStylePictureIsVariable DEPEND %WindowStyles LONG TIMES 0

%ProcedureAutoBindFieldsIgnored MULTI LONG  ()
%ProcedureAutoBindFieldIgnored DEPEND %ProcedureAutoBindFieldsIgnored DEFAULT TIMES 0

%ProcedureAutoBindProceduresIgnored MULTI LONG  ()
%ProcedureAutoBindProcedureIgnored DEPEND %ProcedureAutoBindProceduresIgnored DEFAULT TIMES 0

%ProcedureAutoBindValidToAddField LONG  (0)
%ProcedureUseEnterInsteadTabExcludeListCombo LONG  (0)
%ProcedureUseEnterInsteadTabDisableNextTabStop LONG  (0)
%ProcedureUseEnterInsteadTabEnableNextTabStop LONG  (0)
%ExtUITabIcon DEPEND %Control DEFAULT TIMES 0

%ExtUITabStyleOverrideGlobal DEPEND %Control LONG TIMES 0

%ExtUITabStyle DEPEND %Control DEFAULT TIMES 2
WHEN  ('') ('Default')
WHEN  ('?CloseButton') ('Default')

%CheckedDisables DEPEND %Control MULTI LONG TIMES 0

%CheckedDisableControl DEPEND %CheckedDisables DEFAULT TIMES 0

%CheckedDisableControlAction DEPEND %CheckedDisables DEFAULT TIMES 2
WHEN  ('')TIMES 0
WHEN  ('?CloseButton')TIMES 0

%UnCheckedDisables DEPEND %Control MULTI LONG TIMES 0

%UnCheckedDisableControl DEPEND %UnCheckedDisables DEFAULT TIMES 0

%UnCheckedDisableControlAction DEPEND %UnCheckedDisables DEFAULT TIMES 2
WHEN  ('')TIMES 0
WHEN  ('?CloseButton')TIMES 0

%ProcedureOneInstance LONG  (0)
%FieldGradientColorType DEPEND %Control DEFAULT TIMES 1
WHEN  ('') ('Off')

%FieldGradientColorTypeVariable DEPEND %Control DEFAULT TIMES 1
WHEN  ('') ('')

%FieldGradientColorTypeIsVariable DEPEND %Control LONG TIMES 1
WHEN  ('') (0)

%FieldGradientColorFrom DEPEND %Control LONG TIMES 1
WHEN  ('') (-1)

%FieldGradientColorFromVariable DEPEND %Control DEFAULT TIMES 0

%FieldGradientColorFromIsVariable DEPEND %Control LONG TIMES 1
WHEN  ('') (0)

%FieldGradientColorTo DEPEND %Control LONG TIMES 1
WHEN  ('') (-1)

%FieldGradientColorToVariable DEPEND %Control DEFAULT TIMES 0

%FieldGradientColorToIsVariable DEPEND %Control LONG TIMES 1
WHEN  ('') (0)

%PreserveVarsLoc MULTI LONG  ()
%PreserveVarLoc DEPEND %PreserveVarsLoc DEFAULT TIMES 0

%ActiveImageEnable DEPEND %Control LONG TIMES 0

%AIObjectName DEPEND %Control DEFAULT TIMES 1
WHEN  ('') ('AIBtn0')

%AIEnableMimicControl DEPEND %Control LONG TIMES 1
WHEN  ('') (1)

%AIMimicControl DEPEND %Control DEFAULT TIMES 1
WHEN  ('') ('?sciControl:Region')

%AIImgRound DEPEND %Control LONG TIMES 0

%AIOverrideImg DEPEND %Control DEFAULT TIMES 0

%AIOverrideImgVariable DEPEND %Control DEFAULT TIMES 0

%AIOverrideImgIsVariable DEPEND %Control LONG TIMES 1
WHEN  ('') (0)

%AIDisableImg DEPEND %Control DEFAULT TIMES 0

%AIDisableImgVariable DEPEND %Control DEFAULT TIMES 0

%AIDisableImgIsVariable DEPEND %Control LONG TIMES 1
WHEN  ('') (0)

%AIHotImg DEPEND %Control DEFAULT TIMES 0

%AIHotImgVariable DEPEND %Control DEFAULT TIMES 0

%AIHotImgIsVariable DEPEND %Control LONG TIMES 1
WHEN  ('') (0)

%AIPressedImg DEPEND %Control DEFAULT TIMES 0

%AIPressedImgVariable DEPEND %Control DEFAULT TIMES 0

%AIPressedImgIsVariable DEPEND %Control LONG TIMES 1
WHEN  ('') (0)

[EMBED]
EMBED %ControlEventHandling
[INSTANCES]
WHEN '?CloseButton'
[INSTANCES]
WHEN 'Accepted'
[DEFINITION]
[GROUP]
PRIORITY 5000
INSTANCE 1
[END]
[END]
WHEN '?MovePageUpButton'
[INSTANCES]
WHEN 'Accepted'
[DEFINITION]
[SOURCE]
PROPERTY:BEGIN
PRIORITY 6000
PROPERTY:END
POST(EVENT:PageUp,?sciControl:Region)
[END]
[END]
WHEN '?MovePageDownButton'
[INSTANCES]
WHEN 'Accepted'
[DEFINITION]
[SOURCE]
PROPERTY:BEGIN
PRIORITY 6000
PROPERTY:END
POST(EVENT:PageDown,?sciControl:Region)
[END]
[END]
WHEN '?MoveBottomButton'
[INSTANCES]
WHEN 'Accepted'
[DEFINITION]
[SOURCE]
PROPERTY:BEGIN
PRIORITY 6000
PROPERTY:END
POST(EVENT:ScrollBottom,?sciControl:Region)
[END]
[END]
WHEN '?GoToButton'
[INSTANCES]
WHEN 'Accepted'
[DEFINITION]
[SOURCE]
PROPERTY:BEGIN
PRIORITY 6000
PROPERTY:END
SciControl.AskGotoLine()
[END]
[END]
WHEN '?FindButton'
[INSTANCES]
WHEN 'Accepted'
[DEFINITION]
[SOURCE]
PROPERTY:BEGIN
PRIORITY 6000
PROPERTY:END
SciControl.SearchAsk()
[END]
[END]
WHEN '?PrintButton'
[INSTANCES]
WHEN 'Accepted'
[DEFINITION]
[SOURCE]
PROPERTY:BEGIN
PRIORITY 6000
PROPERTY:END
SciControl.PrintAsk()
[END]
[END]
WHEN '?EditButton'
[INSTANCES]
WHEN 'Accepted'
[DEFINITION]
[SOURCE]
PROPERTY:BEGIN
PRIORITY 5000
PROPERTY:END
IF glo:bUseAssociation
   szFilename = CLIP(sFilename)
   szNull = ''
   ShellExecute(window{prop:handle},0,szFilename,0,szNull,1)
ELSE
   szCommandline = 'Notepad.exe ' & CLIP(sFilename)
   IF glo:szEditorCommand
      szCommandLine = glo:szEditorCommand
      I = INSTRING('.EXE ',UPPER(szCommandLine),1)
      IF I
         szCommandLine = SHORTPATH(szCommandLine[1 : I+3]) & szCommandLine[I+4 : LEN(szCommandLine)]
      END
      !look for filename parameter token
      I = INSTRING('%1',szCommandLine,1)
      IF I
         szCommandLine = SUB(szCommandLine,1,I-1) & |
                         CLIP(sFilename) & |
                         SUB(szCommandLine,I+2,LEN(szCommandLine)-(I+1))
      END
      !look for line number parameter token
      I = INSTRING('%2',szCommandLine,1)
      IF I
         szCommandLine = SUB(szCommandLine,1,I-1) & |
                         LineNo & |
                         SUB(szCommandLine,I+2,LEN(szCommandLine)-(I+1))
      END
   END
   RUN(szCommandLine)
   IF RUNCODE() = -4   !Failed to execute
     CASE MESSAGE('An error occurred trying to execute the following command:||' & szCommandLine & |
             '||Do you want to use Notepad?',ERROR(),ICON:EXCLAMATION, |
             BUTTON:YES+BUTTON:NO,BUTTON:YES)
     OF BUTTON:YES
        RUN('Notepad.exe ' & CLIP(sFilename))
     END
   END
END
[END]
[END]
WHEN '?MoveTopButton'
[INSTANCES]
WHEN 'Accepted'
[DEFINITION]
[SOURCE]
PROPERTY:BEGIN
PRIORITY 6000
PROPERTY:END
POST(EVENT:ScrollTop,?sciControl:Region)
[END]
[END]
WHEN '?LineUpButton '
[INSTANCES]
WHEN 'Accepted'
[DEFINITION]
[SOURCE]
PROPERTY:BEGIN
PRIORITY 5000
PROPERTY:END
POST(EVENT:ScrollUp,?sciControl:Region)
[END]
[END]
WHEN '?LineDownButton '
[INSTANCES]
WHEN 'Accepted'
[DEFINITION]
[SOURCE]
PROPERTY:BEGIN
PRIORITY 5000
PROPERTY:END
POST(EVENT:ScrollDown,?sciControl:Region)
[END]
[END]
WHEN '?LineUpButton'
[INSTANCES]
WHEN 'Accepted'
[DEFINITION]
[SOURCE]
PROPERTY:BEGIN
PRIORITY 6000
PROPERTY:END
POST(EVENT:ScrollUp,?sciControl:Region)
[END]
[END]
WHEN '?LineDownButton'
[INSTANCES]
WHEN 'Accepted'
[DEFINITION]
[SOURCE]
PROPERTY:BEGIN
PRIORITY 6000
PROPERTY:END
POST(EVENT:ScrollDown,?sciControl:Region)
[END]
[END]
[END]
EMBED %WindowManagerMethodCodeSection
[INSTANCES]
WHEN 'Init'
[INSTANCES]
WHEN '(),BYTE'
[DEFINITION]
[SOURCE]
PROPERTY:BEGIN
PRIORITY 6000
PROPERTY:END
! Initialize Styles
!----------------------------------------------------------------------------
LOOP K = 1 TO SCE_CLW_LAST
   EXECUTE K
      loc:szViewerStyle = 'Courier New,10,700,1,0,0,0,16777215,0,0,1,0'
      loc:szViewerStyle = 'Courier New,10,700,1,0,0,255,16777215,0,0,1,0'
      loc:szViewerStyle = 'Courier New,10,700,1,0,0,128,16777215,0,0,1,0'
      loc:szViewerStyle = 'Courier New,10,700,1,0,0,8421504,16777215,0,0,1,0'
      loc:szViewerStyle = 'Courier New,10,700,1,0,0,0,16777215,0,0,1,0'
      loc:szViewerStyle = 'Courier New,10,700,1,0,0,0,16777215,0,0,1,0'
      loc:szViewerStyle = 'Courier New,10,700,1,0,0,0,16777215,0,0,1,0'
      loc:szViewerStyle = 'Courier New,10,700,1,0,0,0,16777215,0,0,1,0'
      loc:szViewerStyle = 'Courier New,10,700,1,0,0,8388608,16777215,0,0,1,1'
      loc:szViewerStyle = 'Courier New,10,700,1,0,0,16711680,16777215,0,0,1,0'
      loc:szViewerStyle = 'Courier New,10,700,1,0,0,0,16777215,0,0,1,0'
      loc:szViewerStyle = 'Courier New,10,700,1,0,0,8388608,16777215,0,0,1,1'
      loc:szViewerStyle = 'Courier New,10,700,1,0,0,8388608,16777215,0,0,1,1'
      loc:szViewerStyle = 'Courier New,10,700,1,0,0,8388608,16777215,0,0,1,1'
      loc:szViewerStyle = 'Courier New,10,700,1,0,0,32768,16777215,0,0,1,1'
      loc:szViewerStyle = 'Courier New,10,700,1,0,0,255,16777215,0,0,1,0'
      loc:szViewerStyle = 'Courier New,10,700,1,0,0,8421376,16777215,0,0,1,0'
   END

   INIMgr.Fetch('Options','ViewerStyle'& FORMAT(K-1,@n02),loc:szViewerStyle)
   I = 1
   J = INSTRING(',',loc:szViewerStyle,,I)
   glo:ViewerStyles.StyleGroup[K].Font = loc:szViewerStyle[I : J-1]
   I = J+1
   J = INSTRING(',',loc:szViewerStyle,,I)
   glo:ViewerStyles.StyleGroup[K].FontSize = loc:szViewerStyle[I : J-1]
   I = J+1
   J = INSTRING(',',loc:szViewerStyle,,I)
   glo:ViewerStyles.StyleGroup[K].FontStyle = loc:szViewerStyle[I : J-1]
   I = J+1
   J = INSTRING(',',loc:szViewerStyle,,I)
   glo:ViewerStyles.StyleGroup[K].Bold = loc:szViewerStyle[I : J-1]
   I = J+1
   J = INSTRING(',',loc:szViewerStyle,,I)
   glo:ViewerStyles.StyleGroup[K].Italic = loc:szViewerStyle[I : J-1]
   I = J+1
   J = INSTRING(',',loc:szViewerStyle,,I)
   glo:ViewerStyles.StyleGroup[K].Underline = loc:szViewerStyle[I : J-1]
   I = J+1
   J = INSTRING(',',loc:szViewerStyle,,I)
   glo:ViewerStyles.StyleGroup[K].Fore = loc:szViewerStyle[I : J-1]
   I = J+1
   J = INSTRING(',',loc:szViewerStyle,,I)
   glo:ViewerStyles.StyleGroup[K].Back = loc:szViewerStyle[I : J-1]
   I = J+1
   J = INSTRING(',',loc:szViewerStyle,,I)
   glo:ViewerStyles.StyleGroup[K].EolFilled = loc:szViewerStyle[I : J-1]
   I = J+1
   J = INSTRING(',',loc:szViewerStyle,,I)
   glo:ViewerStyles.StyleGroup[K].CaseOpt = loc:szViewerStyle[I : J-1]
   I = J+1
   J = INSTRING(',',loc:szViewerStyle,,I)
   glo:ViewerStyles.StyleGroup[K].Visible = loc:szViewerStyle[I : J-1]
   I = J+1
   J = LEN(CLIP(loc:szViewerStyle))
   glo:ViewerStyles.StyleGroup[K].HotSpot = loc:szViewerStyle[I : J]
END
[SOURCE]
PROPERTY:BEGIN
PRIORITY 8001
PROPERTY:END
Window{PROP:Buffer} = 1
Window{PROP:Text} = 'View File [' & CLIP(sFilename) & ']' !& ' [' & pWhat & ']'

CASE glo:Background
OF 1  !Color
   Window{PROP:Wallpaper} = ''
   Window{PROP:Color} = glo:Color2
OF 2  !Wallpaper
   Window{PROP:Wallpaper} = glo:szWallpaper2
   window{PROP:Tiled} = glo:Tiled2
   Window{PROP:Color} = COLOR:NONE
OF 3  !None
   Window{PROP:Wallpaper} = ''
   Window{PROP:Color} = COLOR:NONE
END

J = LASTFIELD()
LOOP I = 0 TO J
   SETFONT(I,glo:Typeface,glo:FontSize,glo:FontColor,glo:FontStyle,0)
END
[SOURCE]
PROPERTY:BEGIN
PRIORITY 8001
PROPERTY:END
!XPMoveTopButton.Init(?MoveTopButton, 0, 0)
!XPMoveTopButton.SetIconSize(32, 32)
!XPMovePageUpButton.Init(?MovePageUpButton, 0, 0)
!XPMovePageUpButton.SetIconSize(32, 32)
!XPMovePageDownButton.Init(?MovePageDownButton, 0, 0)
!XPMovePageDownButton.SetIconSize(32, 32)
!XPMoveBottomButton.Init(?MoveBottomButton, 0, 0)
!XPMoveBottomButton.SetIconSize(32, 32)
!XPGoToButton.Init(?GoToButton, 0, 0)
!XPGoToButton.SetIconSize(32, 32)
!XPFindButton.Init(?FindButton, 0, 0)
!XPFindButton.SetIconSize(32, 32)
!XPPrintButton.Init(?PrintButton, 0, 0)
!XPPrintButton.SetIconSize(32, 32)
!XPEditButton.Init(?EditButton, 0, 0)
!XPEditButton.SetIconSize(32, 32)
!XPCloseButton.Init(?CloseButton, 0, 0)
!XPCloseButton.SetIconSize(32, 32)
[SOURCE]
PROPERTY:BEGIN
PRIORITY 8104
LABEL
PROPERTY:END
  IF ReturnValue = Level:Benign
     bControlInitialised = TRUE
  ELSE
     bControlInitialised = FALSE
  END
[SOURCE]
PROPERTY:BEGIN
PRIORITY 9300
PROPERTY:END
IF glo:bUseHTMLHelp
   IF oHH &= NULL
[SOURCE]
PROPERTY:BEGIN
PRIORITY 9700
PROPERTY:END
   ELSE
      oHH.SetHelpFile( 'ABCVIEW.CHM' )
      oHH.SetTopic('Ascii_File_Viewer.htm')
   END
END  
[END]
[END]
WHEN 'TakeEvent'
[INSTANCES]
WHEN '(),BYTE'
[DEFINITION]
[SOURCE]
PROPERTY:BEGIN
PRIORITY 1300
PROPERTY:END
hwnd = 0    !SciControl.GetWindowHandle()
IF hwnd
   lb.lbStyle = BS_SOLID
   lb.lbColor = 0B99D7FH
   lb.lbHatch = 0
   hBrush = CreateBrushIndirect(lb)
   hDC = getWindowDC(hwnd)
   hOldBrush = SelectObject(hDC,hBrush)
   ExtFloodFill(hDC,0,0,COLOR:BLACK,FLOODFILLSURFACE)
   SelectObject(hDC,hOldBrush)
   DeleteObject(hBrush)
   ReleaseDC(hwnd,hDC)
END
[END]
[END]
[END]
EMBED %WindowManagerMethodDataSection
[INSTANCES]
WHEN 'TakeFieldEvent'
[INSTANCES]
WHEN '(),BYTE'
[DEFINITION]
[SOURCE]
PROPERTY:BEGIN
PRIORITY 8500
PROPERTY:END
      COMPILE('***',_Scintilla_)
lc  LONG,AUTO
lh  LONG,AUTO
h   LONG,AUTO
h2  LONG,AUTO
      !***
[END]
[END]
WHEN 'TakeAccepted'
[INSTANCES]
WHEN '(),BYTE'
[DEFINITION]
[SOURCE]
PROPERTY:BEGIN
PRIORITY 3500
PROPERTY:END
szFilename           CSTRING(261)
szCommandline        CSTRING(261)
szNull               CSTRING(2)
[END]
[END]
WHEN 'TakeEvent'
[INSTANCES]
WHEN '(),BYTE'
[DEFINITION]
[SOURCE]
PROPERTY:BEGIN
PRIORITY 5000
PROPERTY:END
lb          LIKE(LOGBRUSH)
hOldBrush   UNSIGNED
hBrush      UNSIGNED
hDC         UNSIGNED
hCheckBox   UNSIGNED
rVal        UNSIGNED
hwnd        UNSIGNED
[END]
[END]
[END]
EMBED %WindowEventHandling
[INSTANCES]
WHEN 'PreAlertKey'
[DEFINITION]
[SOURCE]
PROPERTY:BEGIN
PRIORITY 4999
PROPERTY:END
IF KEYCODE() <> EscKey AND KEYCODE() <> CtrlE
   CYCLE
END
[END]
WHEN 'DoResize'
[DEFINITION]
[SOURCE]
PROPERTY:BEGIN
PRIORITY 5000
PROPERTY:END
SciControl.Reset(FALSE)
[END]
WHEN 'AlertKey'
[DEFINITION]
[SOURCE]
PROPERTY:BEGIN
PRIORITY 7500
PROPERTY:END
CASE KEYCODE()
  OF CtrlE
     POST(EVENT:Accepted,?EditButton)
END
[END]
[END]
EMBED %DataSection
[DEFINITION]
[SOURCE]
PROPERTY:BEGIN
PRIORITY 50
PROPERTY:END
!region Notices
! ================================================================================
! Notice : Copyright (C) 2017, Devuna
!          Distributed under LGPLv3 (http://www.gnu.org/licenses/lgpl.html)
!
!    This file is part of Devuna-ClassViewer (https://github.com/Devuna/Devuna-ClassViewer)
!
!    Devuna-ClassViewer is free software: you can redistribute it and/or modify
!    it under the terms of the GNU General Public License as published by
!    the Free Software Foundation, either version 3 of the License, or
!    (at your option) any later version.
!
!    Devuna-ClassViewer is distributed in the hope that it will be useful,
!    but WITHOUT ANY WARRANTY; without even the implied warranty of
!    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
!    GNU General Public License for more details.
!
!    You should have received a copy of the GNU General Public License
!    along with Devuna-ClassViewer.  If not, see <http://www.gnu.org/licenses/>.
! ================================================================================
!endregion Notices
[SOURCE]
PROPERTY:BEGIN
PRIORITY 1300
PROPERTY:END
!==========================================================!
!ToolTip for Scintilla Viewer                              !
!==========================================================!
Viewer_tt            ToolTipClass                          !
hwndViewer_TT        HWND                                  !
!==========================================================!
[SOURCE]
PROPERTY:BEGIN
PRIORITY 3000
PROPERTY:END
AsciiFilename        STRING(FILE:MaxFilePath),AUTO,STATIC,THREAD
AsciiFile            FILE,DRIVER('ASCII'),NAME(AsciiFilename),PRE(A1),THREAD
RECORD                RECORD,PRE()
TextLine                STRING(255)
                      END
                     END
[SOURCE]
PROPERTY:BEGIN
PRIORITY 5050
PROPERTY:END
szClarionKeywords    CSTRING(2048)
szCompilerDirectives CSTRING(2048)
szBuiltinProcsFuncs  CSTRING(2048)
szStructDataTypes    CSTRING(2048)
szAttributes         CSTRING(2048)
szStandardEquates    CSTRING(2048)
[END]
EMBED %SciMethodCodeSection
[INSTANCES]
WHEN '6'
[INSTANCES]
WHEN 'TakeOpenWindow'
[INSTANCES]
WHEN '(),BYTE'
[DEFINITION]
[SOURCE]
PROPERTY:BEGIN
PRIORITY 5001
PROPERTY:END
IF bControlInitialised
   SciControl.UsePopup(FALSE)
   SciControl.SetDefaults()

   szAsciiFilename = CLIP(sFileName)
   SciControl.SetReadOnly(FALSE)
   ViewerActive = SciControl.OpenFile(szAsciiFilename)
   IF ViewerActive = TRUE
      SciControl.SetReadOnly(TRUE)
      sciControl.GoToLine(LineNo + ?sciControl:Region{PROP:LineCount})
      SciControl.GoToLine(LineNo-1)
   END
END
[END]
[END]
WHEN 'OpenFile'
[INSTANCES]
WHEN '(*CSTRING szFileName),BOOL'
[DEFINITION]
[SOURCE]
PROPERTY:BEGIN
PRIORITY 5001
PROPERTY:END
?sciControl:Region{PROP:Use} = SELF.szTextBuffer
[END]
[END]
WHEN 'Init'
[INSTANCES]
WHEN '(*WINDOW W,LONG feq,UNSIGNED id,BOOL Themed = 0),BYTE'
[DEFINITION]
[SOURCE]
PROPERTY:BEGIN
PRIORITY 2500
PROPERTY:END
ReturnValue = PARENT.Init(W,feq,id,TRUE)
OMIT('ReturnValue') 
[SOURCE]
PROPERTY:BEGIN
PRIORITY 5001
PROPERTY:END
OMIT('***',UseDefaultWordlist=1)
IF srcGetWordList(szClarionKeywords, szCompilerDirectives, szBuiltinProcsFuncs, szStructDataTypes, szAttributes, szStandardEquates)
   IF CLIP(szClarionKeywords)
      SELF.ClarionKeywords     &= szClarionKeywords
   END
   IF CLIP(szCompilerDirectives)
      SELF.CompilerDirectives  &= szCompilerDirectives
   END
   IF CLIP(szBuiltinProcsFuncs)
      SELF.BuiltinProcsFuncs   &= szBuiltinProcsFuncs
   END
   IF CLIP(szStructDataTypes)
      SELF.StructDataTypes     &= szStructDataTypes
   END
   IF CLIP(szAttributes)
      SELF.Attributes          &= szAttributes
   END
   IF CLIP(szStandardEquates)
      IF glo:bClarionVersion >= CWVERSION_C70 !CWVERSION_C80, CWVERSION_C90, CWVERSION_C100
         szStandardEquates = szStandardEquates & |
                             ' BEEP: BUTTON: CHARSET: COLOR: CREATE: CURSOR: DATATYPE: DDE: DOCK: DRIVEROP: '   & |
                             'EVENT: FF_: FILE: FONT: ICON: LISTZONE: MATCH: OCX: PAPER: PAPERBIN: '            & |
                             'PEN: PROP: PROPLIST: PROPPRINT: REJECT: RESOLUTION: STD: TPSREADONLY '            & |
                             'VBXEVENT: WARN:'
      END
      SELF.StandardEquates     &= szStandardEquates
   END
END
!***
SELF.Style = glo:ViewerStyles
IF glo:Typeface
   SELF.SetTypeface(glo:Typeface)
END
[END]
[END]
WHEN 'TakeEvent'
[INSTANCES]
WHEN '(),BYTE'
[DEFINITION]
[SOURCE]
PROPERTY:BEGIN
PRIORITY 7500
PROPERTY:END
CASE EVENT()
   OF    SCN_MARGINCLICK
      SELF.ToggleFold(SELF.LineFromPosition(SELF.MarginClickPosition))
   OF    SCN_HOTSPOTCLICK        |
   OROF  SCN_HOTSPOTDOUBLECLICK
      WordEndPosition = SELF.WordEndPosition(SELF.HotSpotClickPosition, 0)
      WordStartPosition = SELF.WordStartPosition(SELF.HotSpotClickPosition, 0)
      SELF.SetCurrentPos(WordStartPosition)
      SELF.SetAnchor(WordEndPosition)
      SELF.GetSelText(szHotClickWord)
      SELF.SetSel(SELF.HotSpotClickPosition,SELF.HotSpotClickPosition)
      CASE glo:bClarionVersion
        OF CWVERSION_C2
           HELP(szRoot & '\bin\CW20help.hlp',szHotClickWord)
           HELP('abcview.hlp')
        OF CWVERSION_C4
           HELP(szRoot & '\bin\C4help.hlp',szHotClickWord)
           HELP('abcview.hlp')
        OF CWVERSION_C5 OROF CWVERSION_C5EE
           HELP(szRoot & '\bin\C5help.hlp',szHotClickWord)
           HELP('abcview.hlp')
        OF CWVERSION_C55 OROF CWVERSION_C55EE
           HELP(szRoot & '\bin\C55help.hlp',szHotClickWord)
           HELP('abcview.hlp')
        OF CWVERSION_C60 OROF CWVERSION_C60EE
           HELP(szRoot & '\bin\C60help.hlp',szHotClickWord)
           HELP('abcview.hlp')
        OF CWVERSION_C70 OROF CWVERSION_C80 OROF CWVERSION_C90 OROF CWVERSION_C100
           IF oHH &= NULL
              oHH &= NEW tagHTMLHelp
              oHH.Init(szRoot & '\bin\ClarionHelp.chm')
           ELSE
              oHH.SetHelpFile(szRoot & '\bin\ClarionHelp.chm')
           END
           oHH.KeyWordLookup(szHotClickWord)
           !oHH.ShowTopic(szHotClickWord)
           oHH.SetHelpFile( 'ABCVIEW.CHM' )
      END
END
[END]
[END]
WHEN 'FindWindowTakeOpenWindow'
[INSTANCES]
WHEN '()'
[DEFINITION]
[SOURCE]
PROPERTY:BEGIN
PRIORITY 4500
PROPERTY:END
hwndViewer_tt = Viewer_tt.init(0{PROP:HANDLE},1) !ToolTipClass Initialization
IF hwndViewer_tt
   Fld = 0
   LOOP
      Fld = 0{PROP:NextField,Fld}
      IF Fld = 0
         BREAK
      ELSE
         IF Fld{PROP:TIP}
            IF INSTRING('<13,10>',Fld{PROP:TIP},1,1)
               Viewer_tt.addtip(Fld{PROP:HANDLE},Fld{PROP:TIP},1)
            ELSE
               Viewer_tt.addtip(Fld{PROP:HANDLE},Fld{PROP:TIP},0)
            END!IF
            Fld{PROP:TIP}=''
         END!IF
      END!IF
   END!LOOP
   Viewer_tt.SetTipTextColor(COLOR:NAVY)
END!IF
[END]
[END]
WHEN 'Colourise'
[INSTANCES]
WHEN '(LONG lStart,LONG lEnd)'
[DEFINITION]
[SOURCE]
PROPERTY:BEGIN
PRIORITY 7500
PROPERTY:END
OMIT('***',UseDefaultWordlist=1)
IF UPPER(SUB(ModuleQ.szModuleName,-3,3)) = 'CLW'

   FirstLine = lStart
   LastLine = CHOOSE(lEnd = -1, SELF.GetLineCount() - 1, lEnd)

   SaveClass = POINTER(ClassQ)
   LastClass = RECORDS(ClassQ)
   LOOP thisClass = 1 TO LastClass
      GET(ClassQ,thisCLass)
      IF ClassQ.lModuleID = ModuleQ.lModuleID
         N = RECORDS(MethodQ)
         LOOP M = 1 TO N
            GET(MethodQ,M)
            IF MethodQ.lClassID = ClassQ.lClassID
               IF INRANGE(MethodQ:lSourceLine,FirstLine,LastLine)
                  sciControl.SetFoldLevel(MethodQ:lSourceLine-1,BOR(1023,SC_FOLDLEVELHEADERFLAG))
               END
            END
         END
      END
   END
   GET(ClassQ,SaveClass)

   LOOP thisLine = FirstLine TO LastLine
     thisFoldLevel = BAND(SELF.GetFoldLevel(thisLine),SC_FOLDLEVELNUMBERMASK)
     IF thisFoldLevel = 1023
        SELF.SetFoldLevel(thisLine,BOR(1024,SC_FOLDLEVELHEADERFLAG))
        LOOP thisLine = thisLine+1 TO LastLine
           thisFoldLevel = BAND(SELF.GetFoldLevel(thisLine),SC_FOLDLEVELNUMBERMASK)
           IF thisFoldLevel = 1023
              thisLine -= 1
              BREAK
           ELSE
              IF BAND(SELF.GetFoldLevel(thisLine),SC_FOLDLEVELHEADERFLAG)
                 SELF.SetFoldLevel(thisLine,BOR(thisFoldLevel+1,SC_FOLDLEVELHEADERFLAG))
              ELSE
                 SELF.SetFoldLevel(thisLine,thisFoldLevel+1)
              END
           END
        END
     END
   END

END
!***
[END]
[END]
WHEN 'SetBuffer'
[INSTANCES]
WHEN '()'
[DEFINITION]
[SOURCE]
PROPERTY:BEGIN
PRIORITY 7500
PROPERTY:END
SELF.SetClarionLexer()
[END]
[END]
[END]
[END]
EMBED %SciMethodDataSection
[INSTANCES]
WHEN '6'
[INSTANCES]
WHEN 'TakeEvent'
[INSTANCES]
WHEN '(),BYTE'
[DEFINITION]
[SOURCE]
PROPERTY:BEGIN
PRIORITY 5000
PROPERTY:END
WordEndPosition     LONG,AUTO
WordStartPosition   LONG,AUTO
szHotClickWord      CSTRING(256)
[END]
[END]
WHEN 'FindWindowTakeOpenWindow'
[INSTANCES]
WHEN '()'
[DEFINITION]
[SOURCE]
PROPERTY:BEGIN
PRIORITY 5000
PROPERTY:END
Fld     LONG,AUTO
[END]
[END]
WHEN 'Colourise'
[INSTANCES]
WHEN '(LONG lStart,LONG lEnd)'
[DEFINITION]
[SOURCE]
PROPERTY:BEGIN
PRIORITY 5000
PROPERTY:END
M               LONG
N               LONG
FirstLine       LONG
LastLine        LONG
thisLine        LONG
thisFoldLevel   LONG
thisClass       LONG
LastClass       LONG
SaveClass       LONG
[END]
[END]
[END]
[END]
EMBED %ResizerMethodDataSection
[INSTANCES]
WHEN '3'
[INSTANCES]
WHEN 'Resize'
[INSTANCES]
WHEN '(),BYTE'
[DEFINITION]
[SOURCE]
PROPERTY:BEGIN
PRIORITY 5000
PROPERTY:END
vcrXPos        LONG
vcrYPos        LONG
[END]
[END]
[END]
[END]
EMBED %ResizerMethodCodeSection
[INSTANCES]
WHEN '3'
[INSTANCES]
WHEN 'Resize'
[INSTANCES]
WHEN '(),BYTE'
[DEFINITION]
[SOURCE]
PROPERTY:BEGIN
PRIORITY 7500
PROPERTY:END
  vcrXPos = 4
  vcrYPos = ?MoveTopButton{PROP:YPos}
  SETPOSITION(?MoveTopButton,vcrXPos,vcrYPos,,)
  vcrXPos += 16
  SETPOSITION(?MovePageUpButton,vcrXPos,vcrYPos,,)
  vcrXPos += 16
  SETPOSITION(?LineUpButton,vcrXPos,vcrYPos,,)
  vcrXPos += 16
  SETPOSITION(?LineDownButton,vcrXPos,vcrYPos,,)
  vcrXPos += 16
  SETPOSITION(?MovePageDownButton,vcrXPos,vcrYPos,,)
  vcrXPos += 16
  SETPOSITION(?MoveBottomButton,vcrXPos,vcrYPos,,)
[END]
[END]
[END]
[END]
[END]
[ADDITION]
NAME ABC cwHHProc
[INSTANCE]
INSTANCE 4
OWNER 5
[PROMPTS]
%cwHHFileName DEFAULT  ('')
%cwHHContextURL DEFAULT  ('Ascii_File_Viewer.htm')
%cwHHAltTrapKey DEFAULT  ('')
[ADDITION]
NAME ABC CloseCurrentWindow
[INSTANCE]
INSTANCE 1
[ADDITION]
NAME KCR KCR_ToolTips
[INSTANCE]
INSTANCE 8
[PROMPTS]
%TplName DEFAULT  ('KCR_ToolTips (Devuna)')
%TplDescription DEFAULT  ('ToolTips Extension')
%DontApply LONG  (0)
%UseBalloonTips LONG  (1)
%ApplyAsRegularTip LONG  (1)
%ToolTipControls MULTI LONG  ()
%ToolTipControl DEPEND %ToolTipControls DEFAULT TIMES 0

%MultiLineTip DEPEND %ToolTipControls LONG TIMES 0

%ToolTipTextOption DEPEND %ToolTipControls DEFAULT TIMES 0

%TTLocalVariable DEPEND %ToolTipControls DEFAULT TIMES 0

%TTGlobalVariable DEPEND %ToolTipControls DEFAULT TIMES 0

%TTText DEPEND %ToolTipControls DEFAULT TIMES 0

%ControlGetsFocus DEPEND %ToolTipControls LONG TIMES 0

%ToolTipFeq DEPEND %ToolTipControls DEFAULT TIMES 0

%ToolTipTextColour LONG  (16711680)
%SetDelayTime LONG  (0)
%AutopopDelay DEFAULT  ('5000')
%InitialDelay DEFAULT  ('2000')
%ReshowDelay DEFAULT  ('100')
%SetBackgroundColour LONG  (0)
%ToolTipBkColour LONG  (12648447)
[ADDITION]
NAME ClassViewer OptionalToolTips
[INSTANCE]
INSTANCE 9
PARENT 8
[PROMPTS]
%TplName DEFAULT  ('OptionalToolTips (ABC)')
%TplDescription DEFAULT  ('Optional ToolTips Extension')
%ConditionalGlobalVariable DEFAULT  ('glo:bShowTips')
%ToolTipDelayTime DEFAULT  ('1000')
[ADDITION]
NAME ABC WindowResize
[FIELDPROMPT]
%ResizeAnchorTop DEPEND %Control LONG TIMES 0

%ResizeAnchorLeft DEPEND %Control LONG TIMES 0

%ResizeAnchorRight DEPEND %Control LONG TIMES 0

%ResizeAnchorBottom DEPEND %Control LONG TIMES 0

%ResizeAnchorGrowTop DEPEND %Control LONG TIMES 0

%ResizeAnchorGrowLeft DEPEND %Control LONG TIMES 0

%ResizeAnchorGrowRight DEPEND %Control LONG TIMES 0

%ResizeAnchorGrowBottom DEPEND %Control LONG TIMES 0

[INSTANCE]
INSTANCE 3
[PROMPTS]
%ClassItem UNIQUE DEFAULT  ('Default')
%DefaultBaseClassType DEPEND %ClassItem DEFAULT TIMES 1
WHEN  ('Default') ('WindowResizeClass')

%ActualDefaultBaseClassType DEPEND %ClassItem DEFAULT TIMES 1
WHEN  ('Default') ('')

%ClassLines DEPEND %ClassItem MULTI DEFAULT TIMES 1
WHEN  ('Default') ('Init {19}PROCEDURE(BYTE AppStrategy=AppStrategy:Resize,BYTE SetWindowMinSize=False,BYTE SetWindowMaxSize=False)', |
  'Resize {17}PROCEDURE(),BYTE,PROC,DERIVED')

%AppStrategy DEFAULT  ('Don''t alter controls')
%RestrictMinSize LONG  (1)
%WindowMinWidth DEFAULT  ('')
%WindowMinHeight DEFAULT  ('')
%RestrictMaxSize LONG  (0)
%WindowMaxWidth DEFAULT  ('')
%WindowMaxHeight DEFAULT  ('')
%OverrideControls MULTI LONG  (1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12)
%OverrideControl DEPEND %OverrideControls DEFAULT TIMES 12
WHEN  (1) ('?sciControl:Region')
WHEN  (2) ('?MoveTopButton')
WHEN  (3) ('?MovePageUpButton')
WHEN  (4) ('?MovePageDownButton')
WHEN  (5) ('?MoveBottomButton')
WHEN  (6) ('?GoToButton')
WHEN  (7) ('?FindButton')
WHEN  (8) ('?PrintButton')
WHEN  (9) ('?EditButton')
WHEN  (10) ('?CloseButton')
WHEN  (11) ('?LineUpButton')
WHEN  (12) ('?LineDownButton')

%HorizResize DEPEND %OverrideControls DEFAULT TIMES 12
WHEN  (1) ('Constant Right Border')
WHEN  (2) ('Lock Width')
WHEN  (3) ('Lock Width')
WHEN  (4) ('Lock Width')
WHEN  (5) ('Lock Width')
WHEN  (6) ('Lock Width')
WHEN  (7) ('Lock Width')
WHEN  (8) ('Lock Width')
WHEN  (9) ('Lock Width')
WHEN  (10) ('Lock Width')
WHEN  (11) ('Lock Width')
WHEN  (12) ('Lock Width')

%VertResize DEPEND %OverrideControls DEFAULT TIMES 12
WHEN  (1) ('Constant Bottom Border')
WHEN  (2) ('Lock Height')
WHEN  (3) ('Lock Height')
WHEN  (4) ('Lock Height')
WHEN  (5) ('Lock Height')
WHEN  (6) ('Lock Height')
WHEN  (7) ('Lock Height')
WHEN  (8) ('Lock Height')
WHEN  (9) ('Lock Height')
WHEN  (10) ('Lock Height')
WHEN  (11) ('Lock Height')
WHEN  (12) ('Lock Height')

%HorizPositional DEPEND %OverrideControls DEFAULT TIMES 12
WHEN  (1) ('Fix Left')
WHEN  (2) ('Fix Left')
WHEN  (3) ('Fix Left')
WHEN  (4) ('Fix Left')
WHEN  (5) ('Fix Left')
WHEN  (6) ('Fix Left')
WHEN  (7) ('Fix Left')
WHEN  (8) ('Fix Left')
WHEN  (9) ('Fix Left')
WHEN  (10) ('Fix Right')
WHEN  (11) ('Fix Left')
WHEN  (12) ('Fix Left')

%VertPositional DEPEND %OverrideControls DEFAULT TIMES 12
WHEN  (1) ('Fix Top')
WHEN  (2) ('Fix Bottom')
WHEN  (3) ('Fix Bottom')
WHEN  (4) ('Fix Bottom')
WHEN  (5) ('Fix Bottom')
WHEN  (6) ('Fix Bottom')
WHEN  (7) ('Fix Bottom')
WHEN  (8) ('Fix Bottom')
WHEN  (9) ('Fix Bottom')
WHEN  (10) ('Fix Bottom')
WHEN  (11) ('Fix Bottom')
WHEN  (12) ('Fix Bottom')

%AutoFindParents DEFAULT  ('Default')
%DeferMoves DEFAULT  ('Default')
%AutoTransparent DEFAULT  ('Default')
%ThisObjectName DEPEND %ClassItem DEFAULT TIMES 1
WHEN  ('Default') ('Resizer')

%UseDefaultABCBaseClass DEPEND %ClassItem LONG TIMES 1
WHEN  ('Default') (1)

%UseABCBaseClass DEPEND %ClassItem LONG TIMES 1
WHEN  ('Default') (1)

%ABCBaseClass DEPEND %ClassItem DEFAULT TIMES 1
WHEN  ('Default') ('AsciiFileClass')

%ExtBaseClass DEPEND %ClassItem DEFAULT TIMES 0

%BaseClassIncludeFile DEPEND %ClassItem DEFAULT TIMES 0

%DeriveFromBaseClass DEPEND %ClassItem LONG TIMES 1
WHEN  ('Default') (0)

%NewMethods DEPEND %ClassItem MULTI LONG TIMES 0

%NewMethodName DEPEND %NewMethods DEFAULT TIMES 0

%NewMethodPrototype DEPEND %NewMethods DEFAULT TIMES 0

%NewClassPropertyItems DEPEND %ClassItem MULTI LONG TIMES 0

%NewClassProperty DEPEND %NewClassPropertyItems DEFAULT TIMES 0

%NewClassDataType DEPEND %NewClassPropertyItems DEFAULT TIMES 1
WHEN  ('Default')TIMES 0

%NewClassOtherType DEPEND %NewClassPropertyItems DEFAULT TIMES 0

%NewClassDataIsRef DEPEND %NewClassPropertyItems LONG TIMES 0

%NewClassDataSize DEPEND %NewClassPropertyItems DEFAULT TIMES 0

%NewClassDataDim1 DEPEND %NewClassPropertyItems DEFAULT TIMES 0

%NewClassDataDim2 DEPEND %NewClassPropertyItems DEFAULT TIMES 0

%NewClassDataDim3 DEPEND %NewClassPropertyItems DEFAULT TIMES 0

%NewClassDataDim4 DEPEND %NewClassPropertyItems DEFAULT TIMES 0

%ClassMethods DEPEND %ClassItem MULTI LONG TIMES 0

%ClassMethodName DEPEND %ClassMethods DEFAULT TIMES 0

%ClassMethodPrototype DEPEND %ClassMethods DEFAULT TIMES 0

%ClassPropertyItems DEPEND %ClassItem MULTI LONG TIMES 0

%ClassProperty DEPEND %ClassPropertyItems DEFAULT TIMES 0

%ClassDataType DEPEND %ClassPropertyItems DEFAULT TIMES 1
WHEN  ('Default')TIMES 0

%ClassOtherType DEPEND %ClassPropertyItems DEFAULT TIMES 0

%ClassDataIsRef DEPEND %ClassPropertyItems LONG TIMES 0

%ClassDataSize DEPEND %ClassPropertyItems DEFAULT TIMES 0

%ClassDataDim1 DEPEND %ClassPropertyItems DEFAULT TIMES 0

%ClassDataDim2 DEPEND %ClassPropertyItems DEFAULT TIMES 0

%ClassDataDim3 DEPEND %ClassPropertyItems DEFAULT TIMES 0

%ClassDataDim4 DEPEND %ClassPropertyItems DEFAULT TIMES 0

%DisableResize DEPEND %OverrideControls LONG TIMES 12
WHEN  (1) (0)
WHEN  (2) (0)
WHEN  (3) (0)
WHEN  (4) (0)
WHEN  (5) (0)
WHEN  (6) (0)
WHEN  (7) (0)
WHEN  (8) (0)
WHEN  (9) (0)
WHEN  (10) (0)
WHEN  (11) (0)
WHEN  (12) (0)

%GlobalObject DEPEND %ClassItem DEFAULT TIMES 1
WHEN  ('Default') ('NO')

[ADDITION]
NAME KCR KCR_SetWindowHelp
[INSTANCE]
INSTANCE 5
OWNER 4
[PROMPTS]
%TplName DEFAULT  ('KCR_SetWindowHelp (Devuna)')
%TplDescription DEFAULT  ('Set Window Help Property')
[ADDITION]
NAME SciTPL CSciControl
[INSTANCE]
INSTANCE 6
[PROMPTS]
%ClassItem UNIQUE DEFAULT  ('CSciControl')
%DefaultBaseClassType DEPEND %ClassItem DEFAULT TIMES 1
WHEN  ('CSciControl') ('CSciControl')

%ActualDefaultBaseClassType DEPEND %ClassItem DEFAULT TIMES 1
WHEN  ('CSciControl') ('')

%ClassLines DEPEND %ClassItem MULTI DEFAULT TIMES 1
WHEN  ('CSciControl') ('Colourise {14}PROCEDURE(LONG lStart,LONG lEnd),DERIVED', |
  'FindWindowTakeOpenWindow PROCEDURE(),DERIVED', 'Init {19}PROCEDURE(*WINDOW W,LONG feq,UNSIGNED id,BOOL Themed = 0),BYTE,DERIVED', |
  'OpenFile {15}PROCEDURE(*CSTRING szFileName),BOOL,PROC,DERIVED', 'SetBuffer {14}PROCEDURE(),DERIVED', |
  'TakeEvent {14}PROCEDURE(),BYTE,DERIVED', 'TakeOpenWindow {9}PROCEDURE(),BYTE,DERIVED')

%ControlID DEFAULT  ('1006')
%GlobalObject DEPEND %ClassItem DEFAULT TIMES 1
WHEN  ('CSciControl') ('NO')

%ThisObjectName DEPEND %ClassItem DEFAULT TIMES 1
WHEN  ('CSciControl') ('SciControl')

%UseDefaultABCBaseClass DEPEND %ClassItem LONG TIMES 1
WHEN  ('CSciControl') (0)

%UseABCBaseClass DEPEND %ClassItem LONG TIMES 1
WHEN  ('CSciControl') (1)

%ABCBaseClass DEPEND %ClassItem DEFAULT TIMES 1
WHEN  ('CSciControl') ('CSciViewer')

%ExtBaseClass DEPEND %ClassItem DEFAULT TIMES 0

%BaseClassIncludeFile DEPEND %ClassItem DEFAULT TIMES 0

%DeriveFromBaseClass DEPEND %ClassItem LONG TIMES 1
WHEN  ('CSciControl') (0)

%NewMethods DEPEND %ClassItem MULTI LONG TIMES 0

%NewMethodName DEPEND %NewMethods DEFAULT TIMES 0

%NewMethodPrototype DEPEND %NewMethods DEFAULT TIMES 0

%NewClassPropertyItems DEPEND %ClassItem MULTI LONG TIMES 0

%NewClassProperty DEPEND %NewClassPropertyItems DEFAULT TIMES 0

%NewClassDataType DEPEND %NewClassPropertyItems DEFAULT TIMES 1
WHEN  ('CSciControl')TIMES 0

%NewClassOtherType DEPEND %NewClassPropertyItems DEFAULT TIMES 0

%NewClassDataIsRef DEPEND %NewClassPropertyItems LONG TIMES 0

%NewClassDataSize DEPEND %NewClassPropertyItems DEFAULT TIMES 0

%NewClassDataDim1 DEPEND %NewClassPropertyItems DEFAULT TIMES 0

%NewClassDataDim2 DEPEND %NewClassPropertyItems DEFAULT TIMES 0

%NewClassDataDim3 DEPEND %NewClassPropertyItems DEFAULT TIMES 0

%NewClassDataDim4 DEPEND %NewClassPropertyItems DEFAULT TIMES 0

%ClassMethods DEPEND %ClassItem MULTI LONG TIMES 0

%ClassMethodName DEPEND %ClassMethods DEFAULT TIMES 0

%ClassMethodPrototype DEPEND %ClassMethods DEFAULT TIMES 0

%ClassPropertyItems DEPEND %ClassItem MULTI LONG TIMES 0

%ClassProperty DEPEND %ClassPropertyItems DEFAULT TIMES 0

%ClassDataType DEPEND %ClassPropertyItems DEFAULT TIMES 1
WHEN  ('CSciControl')TIMES 0

%ClassOtherType DEPEND %ClassPropertyItems DEFAULT TIMES 0

%ClassDataIsRef DEPEND %ClassPropertyItems LONG TIMES 0

%ClassDataSize DEPEND %ClassPropertyItems DEFAULT TIMES 0

%ClassDataDim1 DEPEND %ClassPropertyItems DEFAULT TIMES 0

%ClassDataDim2 DEPEND %ClassPropertyItems DEFAULT TIMES 0

%ClassDataDim3 DEPEND %ClassPropertyItems DEFAULT TIMES 0

%ClassDataDim4 DEPEND %ClassPropertyItems DEFAULT TIMES 0

%GenerateScintilla LONG  (1)
%OmitWindowsDeclarations LONG  (1)
%NotificationEvent DEFAULT  ('EVENT:USER+1')
[CALLS]
srcGetWordList
[WINDOW]
Window  WINDOW('View text file'),AT(,,298,212),FONT('Microsoft Sans Serif',10,,FONT:regular, |
          CHARSET:DEFAULT),RESIZE,TILED,ALRT(CtrlE),CENTER,ICON('data16.ico'),GRAY,IMM,MAX, |
          MODAL,PALETTE(256),SYSTEM,WALLPAPER('WALLPAPER.GIF')
          TEXT,AT(4,4,290,185),USE(?sciControl:Region),BOXED,#ORIG(?sciControl:Region),#SEQ(6), |
            #ORDINAL(1)
          BUTTON,AT(4,194,14,14),USE(?MoveTopButton),ICON('vcrfirst.ico'),TIP('Move To First Line'), |
            #ORIG(?Button5),#ORDINAL(2)
          BUTTON,AT(20,194,14,14),USE(?MovePageUpButton),ICON('vcrprior.ico'),TIP('Page Up'), |
            #ORIG(?Button6),#ORDINAL(3)
          BUTTON,AT(36,194,14,14),USE(?LineUpButton),ICON('VCRUP.ICO'),#ORDINAL(4)
          BUTTON,AT(52,194,14,14),USE(?LineDownButton),ICON('VCRDOWN.ICO'),#ORDINAL(5)
          BUTTON,AT(68,194,14,14),USE(?MovePageDownButton),ICON('vcrnext.ico'),TIP('Page Down'), |
            #ORIG(?Button7),#ORDINAL(6)
          BUTTON,AT(84,194,14,14),USE(?MoveBottomButton),ICON('vcrlast.ico'),TIP('Move to Last Line'), |
            #ORIG(?Button8),#ORDINAL(7)
          BUTTON,AT(104,194,14,14),USE(?GoToButton),ICON('GoToLine.ico'),TIP('Go to Line'), |
            #ORIG(?Button9),#ORDINAL(8)
          BUTTON,AT(120,194,14,14),USE(?FindButton),ICON('find.ico'),TIP('Find'),#ORIG(?Button2), |
            #ORDINAL(9)
          BUTTON,AT(140,194,14,14),USE(?PrintButton),ICON('print.ico'),TIP('Print'),#ORIG(?Button3), |
            #ORDINAL(10)
          BUTTON,AT(160,194,14,14),USE(?EditButton),ICON('edit.ico'),TIP('Edit'),#ORIG(?Button4), |
            #ORDINAL(11)
          BUTTON('Cl&ose'),AT(249,194,45,14),USE(?CloseButton),TIP('Close File Viewer window.'), |
            #ORDINAL(12)
        END

[END]
